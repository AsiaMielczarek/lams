<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" 
	styleName="learningLibrary"
	xmlns:flexlib="http://code.google.com/p/flexlib/"
	paddingTop="10" paddingLeft="2" paddingRight="5" paddingBottom="10"
	borderStyle="solid"
	dropShadowEnabled="true"
	shadowDirection="right"
	horizontalScrollPolicy="off"
	>

	<mx:Style source="assets/css/learningLibrary.css" />
	
	<mx:Script>
		<![CDATA[
			import org.lamsfoundation.lams.author.controller.AuthorController;
			import mx.core.Application;
			import mx.controls.Label;
			import mx.containers.HBox;
			import mx.core.DragSource;
			import mx.binding.utils.BindingUtils;
			import mx.core.MovieClipAsset;
			import mx.events.DragEvent;
			import org.lamsfoundation.lams.author.model.learninglibrary.LearningLibraryEntry;
			import mx.controls.Image;
			import mx.collections.ArrayCollection;
			import org.lamsfoundation.lams.author.util.Constants;
			import mx.managers.DragManager;
			import org.lamsfoundation.lams.author.components.LearningLibraryEntryComponent;
				
			[Bindable] 
			public var learningLibraryTree:ArrayCollection;
			
          	public function loadLearningLibrary():void {
   				
   				
   				for each(var learningLibraryEntry:LearningLibraryEntry in Application.application.learningLibrary) {
   					var llcomp:LearningLibraryEntryComponent = new LearningLibraryEntryComponent();
		   			llcomp.load(learningLibraryEntry);
		   			
		   			var llcomp2:LearningLibraryEntryComponent = new LearningLibraryEntryComponent();
		   			llcomp2.load(learningLibraryEntry);
					wsAll.addChild(llcomp2);
		   			
   					switch (learningLibraryEntry.category) {
   						case Constants.TOOL_CATEGORY_ASSESSMENT:
		   					wsAssessment.addChild(llcomp);
   							break;
   						case Constants.TOOL_CATEGORY_INFORMATIVE:
		   					wsInformative.addChild(llcomp);
   							break;
   						case Constants.TOOL_CATEGORY_REFLECTIVE:
		   					wsReflective.addChild(llcomp);
   							break;
   						case Constants.TOOL_CATEGORY_COLLABORATIVE:
   							wsCollaborative.addChild(llcomp);
   							break;
   					}
   				}
   			}
		]]>
	</mx:Script>
	
	<flexlib:WindowShade id="wsAll" tabChildren="{wsInformative.opened}" styleName="all" 
		opened="false" width="100%" paddingLeft="10" paddingBottom="20"  shadowDirection="right"
      	label="{Application.application.dictionary.getLabel('category_all')}"
      	toolTip="{Application.application.dictionary.getLabel('category_all_tooltip')}" toolTipShow="{!wsAll.opened}"/>

	<flexlib:WindowShade id="wsInformative" tabChildren="{wsInformative.opened}" styleName="informative" opened="false"
      	width="100%" paddingLeft="10" paddingBottom="20" backgroundColor="#FFEEC8"  shadowDirection="right"
      	label="{Application.application.dictionary.getLabel('category_informative')}"
      	toolTip="{Application.application.dictionary.getLabel('category_informative_tooltip')}" toolTipShow="{!wsInformative.opened}"/>
     
    <flexlib:WindowShade id="wsReflective" tabChildren="{wsReflective.opened}" styleName="reflective" opened="false"
      	width="100%" paddingLeft="10" paddingBottom="20" backgroundColor="#DDFCB1" shadowDirection="right"
      	label="{Application.application.dictionary.getLabel('category_reflective')}"
      	toolTip="{Application.application.dictionary.getLabel('category_reflective_tooltip')}" toolTipShow="{!wsReflective.opened}"/>
    
    <flexlib:WindowShade id="wsCollaborative" tabChildren="{wsCollaborative.opened}" styleName="collaborative" opened="false"
      	width="100%" paddingLeft="10" paddingBottom="20" backgroundColor="#FFFDBE" shadowDirection="right"
    	label="{Application.application.dictionary.getLabel('category_collaborative')}"
      	toolTip="{Application.application.dictionary.getLabel('category_collaborative_tooltip')}" toolTipShow="{!wsCollaborative.opened}"/>
    
    <flexlib:WindowShade id="wsAssessment" tabChildren="{wsAssessment.opened}" styleName="assessment" opened="false"
      	width="100%" paddingLeft="10" paddingBottom="20" backgroundColor="#E9E2F5" shadowDirection="right" 
    	label="{Application.application.dictionary.getLabel('category_assessment')}"
      	toolTip="{Application.application.dictionary.getLabel('category_assessment_tooltip')}" toolTipShow="{!wsAssessment.opened}"/>
      	
</mx:VBox>
