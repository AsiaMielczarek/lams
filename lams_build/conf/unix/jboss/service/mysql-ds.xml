<?xml version="1.0" encoding="UTF-8"?>

<!-- $Id$ -->
<!--  Datasource config for MySQL using 3.0.9 available from:
http://www.mysql.com/downloads/api-jdbc-stable.html
-->

<datasources>
  <!-- lams-ds datasource for use by LAMS Core and Services -->
  <local-tx-datasource>
    <jndi-name>jdbc/lams-ds</jndi-name>
    <connection-url>jdbc:mysql://localhost:3306/@db.name@</connection-url>
    <driver-class>com.mysql.jdbc.Driver</driver-class>
    <!-- Tell MySQL Connector to use UTF-8 character encoding, -->
    <!-- and convert MySQL zero times to null -->
    <connection-property name="characterEncoding">utf8</connection-property>
    <connection-property name="zeroDateTimeBehavior">convertToNull</connection-property>
    <!-- Set transaction isolation level to match db -->
    <transaction-isolation>TRANSACTION_READ_COMMITTED</transaction-isolation>	
    <user-name>@db.username@</user-name>
    <password>@db.password@</password>
    <!-- Set minimum adn maximum size of pool -->
    <max-pool-size>64</max-pool-size>
    <min-pool-size>0</min-pool-size>
    <!-- Connections not used after 5 minutes will be closed and removed -->
    <idle-timeout-minutes>5</idle-timeout-minutes>
  </local-tx-datasource>
</datasources>
