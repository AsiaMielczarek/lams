<?xml version="1.0" encoding="utf-8"?>			
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" width="340" horizontalScrollPolicy="off" borderStyle="solid" top="354" left="10" bottom="10" xmlns:ns1="org.lamsfoundation.lams.common.ui.components.*" xmlns:controls="com.asfusion.controls.*">
	<mx:Script>
		<![CDATA[
			import org.lamsfoundation.lams.common.dictionary.XMLDictionary;
			import mx.core.Application;
			
			public var allowRatings:Boolean;
			public var allowComments:Boolean;
			public var dictionary:XMLDictionary;
			
			public function init():void{			
				// enable/disable ratings
				if(!allowRatings)
					authorBox.removeChild(authorBox.getChildByName("ratingsBox"));
				
				// enable/disable comments
				if(!allowComments)
					videoInformationBox.removeChild(videoInformationBox.getChildByName("commentsBox")); 
					
				enableVideoInformationButtons(false);
				resetInformation();
			}
			
			public function enableVideoInformationButtons(enabled:Boolean):void{
				ratingButton.enabled = enabled;
				addCommentButton.enabled = enabled;
				
				if(enabled){
					addCommentButton.toolTip = dictionary.getLabel("videorecorder.tooltip.add.comment");
					ratingButton.toolTip = dictionary.getLabel("videorecorder.tooltip.rate.recording");
				}
				else{
					addCommentButton.toolTip = dictionary.getLabelAndConcatenate("videorecorder.tooltip.add.comment", [" (", dictionary.getLabel("videorecorder.disabled"), ")"]);
					ratingButton.toolTip = dictionary.getLabelAndConcatenate("videorecorder.tooltip.rate.recording", [" (", dictionary.getLabel("videorecorder.disabled"), ")"]);
				}
			}
		
			public function printComments(comments:XMLList):void{
				var commentString:String = "";
				var commentsXMLList:XMLList = comments[0].comment;
				for(var i:int = 0; i < commentsXMLList.length(); i++){
					if(!dictionary.isEmpty()){
						commentString += dictionary.getLabelAndConcatenate("videorecorder.author", [": "]) + commentsXMLList[i].author.toString() + "\n"
										+ dictionary.getLabelAndConcatenate("videorecorder.date", [": "]) + commentsXMLList[i].createDate.toString() + "\n"
										+ dictionary.getLabelAndConcatenate("videorecorder.comment", [": "]) + commentsXMLList[i].text;
						
						if(i != commentsXMLList.length() - 1){
							commentString += "\n\n";
						}
					}
				}
				
				this.comments.text = commentString;
			}
			
			public function resetInformation():void{
				title.text = "";
				author.text = "";
				description.text = "";
				comments.text = "";
				ratingButton.value = 0;
				ratingButton.votedValue = 0;
				ratingButton.enabled = false;
				addCommentButton.enabled = false;
				addCommentButton.toolTip = dictionary.getLabelAndConcatenate("videorecorder.tooltip.add.comment", [" (", dictionary.getLabel("videorecorder.disabled"), ")"]);
			}
	    ]]>
	</mx:Script>
	<mx:VBox width="100%" height="100%" paddingBottom="5" paddingLeft="5" paddingRight="5" paddingTop="5" id="videoInformationBox">
		<mx:Label id="titleLabel" text="Title:" fontStyle="italic"/>
		<mx:Text width="100%" id="title"/>
		<mx:HRule width="100%"/>
		<mx:HBox width="100%" id="authorBox">
			<mx:VBox width="177">
				<mx:Label id="authorLabel" text="Author:" fontStyle="italic"/>
				<mx:Text width="100%" id="author"/>
			</mx:VBox>
			<mx:Spacer width="100%"/>
			<mx:VBox width="132" id="ratingsBox">
				<mx:Label id="ratingLabel" text="Rating:" fontStyle="italic"/>
				<controls:Rating value="0" id="ratingButton" enabled="false" />
			</mx:VBox>
		</mx:HBox>
		<mx:VBox width="100%" id="descriptionBox">
			<mx:HRule width="100%"/>
			<mx:Label id="descriptionLabel" text="Description:" fontStyle="italic"/>
			<ns1:ResizeableTextArea id="description" width="100%" wordWrap="true" editable="false" verticalScrollPolicy="off" borderStyle="none"/>
		</mx:VBox>
		<mx:VBox width="100%" height="100%">
		</mx:VBox>
		<mx:VBox width="100%" id="commentsBox">
			<mx:HRule width="100%" id="commentsRule"/>
			<mx:Label id="commentsLabel" text="Comments:" fontStyle="italic"/>
			<ns1:ResizeableTextArea width="100%" id="comments" wordWrap="true" editable="false" verticalScrollPolicy="off" borderStyle="none"/>
			<mx:Button id="addCommentButton" label="Add Comment" enabled="false"/>
		</mx:VBox>
	</mx:VBox>
</mx:Canvas>