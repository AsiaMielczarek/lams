<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">

<struts-config>

  <!-- ========== Data Sources Definitions =================================== -->
  <!--
    Define your Struts data sources in a file called struts-data-sources.xml and place
    it in your merge directory.
  -->

  <!-- ========== Form Bean Definitions =================================== -->

	<form-beans>
		<form-bean name="QaAuthoringForm" type="org.lamsfoundation.lams.tool.qa.web.QaAuthoringForm"/>
	   	<form-bean name="QaLearningForm" type="org.lamsfoundation.lams.tool.qa.web.QaLearningForm"/>
	   	<form-bean name="QaMonitoringForm" type="org.lamsfoundation.lams.tool.qa.web.QaMonitoringForm"/>
		<form-bean name="QaExportForm" type="org.lamsfoundation.lams.tool.qa.web.QaExportForm"/>		   	
	</form-beans>
	
	  <!-- ========== Global Exceptions Definitions =================================== -->
	  <!--
	    Define your exceptions in a file called global-exceptions.xml and place
	    it in your merge directory.
	  -->
	
	
	<global-exceptions>
	      <exception
	        key="error.exception.QaApplication"
	        type="org.lamsfoundation.lams.tool.qa.QaApplicationException"
	        handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
	        path="/SystemErrorContent.jsp"
	        scope="request"
	      />
	</global-exceptions>


  <!-- ========== Global Forward Definitions =================================== -->
   <global-forwards>
     <forward name="starter" path="/authoringStarter"/>   
	  <forward name="learningStarter" path="/learningStarter"/>   
	  <forward name="monitoringStarter" path="/monitoringStarter"/>   
 	</global-forwards>

  <!-- ========== Action Mapping Definitions =================================== -->
  <action-mappings>
   <!--Authoring Starter  -->
    <action
		path="/authoringStarter"
		type="org.lamsfoundation.lams.tool.qa.web.QaStarterAction"
		name="QaAuthoringForm"
		scope="session"
		unknown="false"
		validate="false"
    >

		<exception
			key="error.exception.QaApplication"
			type="org.lamsfoundation.lams.tool.qa.QaApplicationException"
			handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
			path="/SystemErrorContent.jsp"
			scope="request"
		/>
		    
		<exception
		    key="error.exception.QaApplication"
		    type="java.lang.NullPointerException"
		    handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
		    path="/SystemErrorContent.jsp"
		    scope="request"
		/>	         			
	    
	    <forward
			name="load"
			path="/AuthoringMaincontent.jsp"
			redirect="false"
	    />
	
	    <forward
			name="loadViewOnly"
	      	path="/authoring/AuthoringTabsHolder.jsp"
	      	redirect="false"
	    />

	  	<forward
			name="loadMonitoring"
			path="/monitoring/MonitoringMaincontent.jsp"
			redirect="false"
	  	/>
	
	  	<forward
			name="refreshMonitoring"
			path="/monitoring/MonitoringMaincontent.jsp"
			redirect="false"
	  	/>
	
	  	<forward
			name="errorList"
			path="/QaErrorBox.jsp"
			redirect="false"
	  	/>
	</action>  
	
	<action
      path="/authoring"
      type="org.lamsfoundation.lams.tool.qa.web.QaAction"
      name="QaAuthoringForm"
      input="/AuthoringMaincontent.jsp"
      parameter="dispatch"
      scope="session"
      unknown="false"
      validate="false"
    >
    
		<exception
			key="error.exception.QaApplication"
			type="org.lamsfoundation.lams.tool.qa.QaApplicationException"
			handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
			path="/SystemErrorContent.jsp"
			scope="request"
		/>
		    
		<exception
		    key="error.exception.QaApplication"
		    type="java.lang.NullPointerException"
		    handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
		    path="/SystemErrorContent.jsp"
		    scope="request"
		/>	         			
	    
	  	<forward
	        name="load"
	        path="/AuthoringMaincontent.jsp"
	        redirect="false"
		/>
	
	  	<forward
			name="loadMonitoring"
			path="/monitoring/MonitoringMaincontent.jsp"
			redirect="false"
	  	/>
	
	  	<forward
		    name="refreshMonitoring"
		    path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="false"
	  	/>
	  
	    <forward
			name="loadViewOnly"
			path="/authoring/AuthoringTabsHolder.jsp"
			redirect="false"
	    />
	  
	  	<forward
	        name="starter"
	        path="/index.jsp"
	        redirect="false"
	  	/>
  </action>
	
	<!--Learning Starter  -->
   <action 
   		path="/learningStarter" 
   		type="org.lamsfoundation.lams.tool.qa.web.QaLearningStarterAction" 
   		name="QaLearningForm" 
   		scope="session"
	    unknown="false"
    	validate="false"
   		input="/learningIndex.jsp"> 
   			
		<exception
			key="error.exception.QaApplication"
			type="org.lamsfoundation.lams.tool.qa.QaApplicationException"
			handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
			path="/SystemErrorContent.jsp"
			scope="request"
		/>
		    
		<exception
		    key="error.exception.QaApplication"
		    type="java.lang.NullPointerException"
		    handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
		    path="/SystemErrorContent.jsp"
		    scope="request"
		/>	         			

	  	<forward
		    name="loadLearner"
		    path="/learning/AnswersContent.jsp"
		    redirect="false"
		  />
	  	
	      <forward
	        name="learnerRep"
	        path="/monitoring/LearnerRep.jsp"
		    redirect="false"
	      />


	  	<forward
			name="loadMonitoring"
			path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="false"
	  	/>

	  	<forward
		    name="refreshMonitoring"
		    path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="false"
	  	/>
	      
	      <forward
	        name="learningStarter"
	        path="/learningIndex.jsp"
		    redirect="false"
	      />
	      
		<forward
		    name="errorListLearner"
		    path="/QaErrorBox.jsp"
		    redirect="false"
	  	/>      
	</action>  
	
	<action
      path="/learning"
      type="org.lamsfoundation.lams.tool.qa.web.QaLearningAction"
      name="QaLearningForm"
      scope="session"
      input="/learning/AnswersContent.jsp"
      parameter="method"
      unknown="false"
      validate="false">

		<exception
			key="error.exception.QaApplication"
			type="org.lamsfoundation.lams.tool.qa.QaApplicationException"
			handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
			path="/SystemErrorContent.jsp"
			scope="request"
		/>
		    
		<exception
		    key="error.exception.QaApplication"
		    type="java.lang.NullPointerException"
		    handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
		    path="/SystemErrorContent.jsp"
		    scope="request"
		/>	         			

      	<forward
		    name="loadLearner"
		    path="/learning/AnswersContent.jsp"	        
		    redirect="false"
	      />
	      
	  	<forward
			name="loadMonitoring"
			path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="false"
	  	/>
	      
	  	<forward
		    name="refreshMonitoring"
		    path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="false"
	  	/>
	      
	    <forward
	        name="learningStarter"
	        path="/learningIndex.jsp"
		    redirect="false"
	      />
      
	     <forward
	        name="learnerRep"
	        path="/monitoring/LearnerRep.jsp"
		    redirect="false"
	      />
	      
	      <forward
		    name="errorListLearner"
		    path="/QaErrorBox.jsp"
		    redirect="false"
	  	/>      
	</action>
	
	   <!--Define Later Starter Action: initializes the DefineLater module -->
   <action 
   	path="/defineLaterStarter" 
   	type="org.lamsfoundation.lams.tool.qa.web.QaDLStarterAction" 
   	name="QaAuthoringForm" 
	scope="session"
   	input="/index.jsp"> 

		<exception
			key="error.exception.QaApplication"
			type="org.lamsfoundation.lams.tool.qa.QaApplicationException"
			handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
			path="/SystemErrorContent.jsp"
			scope="request"
		/>
		    
		<exception
		    key="error.exception.QaApplication"
		    type="java.lang.NullPointerException"
		    handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
		    path="/SystemErrorContent.jsp"
		    scope="request"
		/>	         			

	  	<forward
		    name="load"
          	path="/AuthoringMaincontent.jsp"
		    redirect="false"
	  	/>
	  	
	  	<forward
	        name="starter"
	        path="/index.jsp"
	        redirect="false"
	     />
	  
        <forward
          name="loadViewOnly"
          path="/authoring/AuthoringTabsHolder.jsp"
          redirect="false"
        />
	  	
	  	<forward
		    name="errorList"
		    path="/QaErrorBox.jsp"
		    redirect="false"
	  	/>
	</action>  
	
	 <action
		path="/monitoringStarter"
		type="org.lamsfoundation.lams.tool.qa.web.QaMonitoringStarterAction"
		name="QaMonitoringForm"
		scope="session"
		parameter="method"
		unknown="false"
		validate="true">
		
		<exception
			key="error.exception.QaApplication"
			type="org.lamsfoundation.lams.tool.qa.QaApplicationException"
			handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
			path="/SystemErrorContent.jsp"
			scope="request"
		/>
		    
		<exception
		    key="error.exception.QaApplication"
		    type="java.lang.NullPointerException"
		    handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
		    path="/SystemErrorContent.jsp"
		    scope="request"
		/>	         			
		
	  	<forward
			name="loadMonitoring"
			path="/monitoring/MonitoringMaincontent.jsp"
			redirect="false"
	  	/>
		
	  	<forward
		    name="refreshMonitoring"
		    path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="false"
	  	/>
	      
   	  	<forward
		    name="errorList"
		    path="/QaErrorBox.jsp"
		    redirect="false"
	  	/>
	</action>

	 <action
	      path="/monitoring"
	      type="org.lamsfoundation.lams.tool.qa.web.QaMonitoringAction"
	      name="QaMonitoringForm"
	      scope="session"
	      parameter="method"
	      unknown="false"
	      validate="true">
	      
		<exception
			key="error.exception.QaApplication"
			type="org.lamsfoundation.lams.tool.qa.QaApplicationException"
			handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
			path="/SystemErrorContent.jsp"
			scope="request"
		/>
		    
		<exception
		    key="error.exception.QaApplication"
		    type="java.lang.NullPointerException"
		    handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
		    path="/SystemErrorContent.jsp"
		    scope="request"
		/>	         			
	      
	  	<forward
			name="loadMonitoring"
			path="/monitoring/MonitoringMaincontent.jsp"
			redirect="false"
	  	/>
	      
	  	<forward
		    name="refreshMonitoring"
		    path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="false"
	  	/>

        <forward
          name="load"
          path="/monitoring/MonitoringMaincontent.jsp"
          redirect="false"
        />
	  	
	  	<forward
          name="loadViewOnly"
          path="/authoring/AuthoringTabsHolder.jsp"
          redirect="false"
        />
	  	
	    <forward
	        name="starter"
	        path="/index.jsp"
	        redirect="false"
	     />
	      
   	  	<forward
		    name="errorList"
		    path="/QaErrorBox.jsp"
		    redirect="false"
	  	/>
	</action>
	
   <!--Export Portfolio Action -->
    <action
      path="/exportPortfolio"
      type="org.lamsfoundation.lams.tool.qa.web.QaExportAction"
      name="QaExportForm"
      scope="session"
      parameter="mode"
      unknown="false"
      validate="true"
    >
	    
		<exception
			key="error.exception.QaApplication"
			type="org.lamsfoundation.lams.tool.qa.QaApplicationException"
			handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
			path="/SystemErrorContent.jsp"
			scope="request"
		/>
		    
		<exception
		    key="error.exception.QaApplication"
		    type="java.lang.NullPointerException"
		    handler="org.lamsfoundation.lams.tool.qa.web.CustomStrutsExceptionHandler"
		    path="/SystemErrorContent.jsp"
		    scope="request"
		/>	         			
	    
	    <forward
    	    name="exportPortfolio"
        	path="/exportPortfolio.jsp"
	        redirect="false"
    	  />

	  	<forward
		    name="errorList"
		    path="/QaErrorBox.jsp"
		    redirect="false"
	  	/>
    </action>
 </action-mappings>

  <!-- Define your Struts controller in a file called struts-controller.xml and place it in your merge directory. -->
 <message-resources parameter="org.lamsfoundation.lams.tool.qa.QaResources"/>

<!-- StrutsTestCase doesn't support tile well at the moment, Have to be 
commented out for testing-->
<plug-in className="org.apache.struts.tiles.TilesPlugin">
	<set-property property="definitions-config"
		value="/WEB-INF/tiles/tiles-defs.xml" />
	<set-property property="definitions-debug" value="0" />
	<set-property property="definitions-parser-details" value="0" />
	<set-property property="definitions-parser-validate" value="true" />
</plug-in>

</struts-config>
