<?xml version="1.0"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head><title>org.lamsfoundation.lams.common.ws.WorkspaceModel</title><link href="../../../../../style.css" rel="stylesheet" type="text/css"/><meta name="generator" content="http://www.badgers-in-foil.co.uk/projects/as2api/"/></head><body><div><a href="#skip_nav" title="Skip navigation"></a></div><ul class="main_nav"><li><a href="../../../../../overview-summary.html">Overview</a></li><li><a href="package-summary.html">Package</a></li><li><span class="nav_current">Class</span></li><li><a href="../../../../../index-files/index.html">Index</a></li></ul><div><a name="skip_nav"></a></div><h1>Class org.lamsfoundation.lams.common.ws.WorkspaceModel</h1><pre class="type_hierachy"><a href="../../../../../org/lamsfoundation/lams/common/util/Observable.html" title="Class org.lamsfoundation.lams.common.util.Observable" class="class_name">org.lamsfoundation.lams.common.util.Observable</a>
   +--<strong>org.lamsfoundation.lams.common.ws.WorkspaceModel</strong></pre><div class="type_description"><h2>Description</h2><p> Model for the Canvas
</p></div><div class="field_index"><h2>Field Index</h2><code><a href="#field_addEventListener">addEventListener</a></code>, <code><a href="#field_currentMode">currentMode</a></code>, <code><a href="#field_currentTab">currentTab</a></code>, <code><a href="#field_folderIDPendingRefresh">folderIDPendingRefresh</a></code>, <code><a href="#field_folderIDPendingRefreshList">folderIDPendingRefreshList</a></code>, <code><a href="#field_MEMBERSHIP_ACCESS">MEMBERSHIP_ACCESS</a></code>, <code><a href="#field_NO_ACCESS">NO_ACCESS</a></code>, <code><a href="#field_OWNER_ACCESS">OWNER_ACCESS</a></code>, <code><a href="#field_READ_ACCESS">READ_ACCESS</a></code>, <code><a href="#field_removeEventListener">removeEventListener</a></code>, <code><a href="#field_rootFolderID">rootFolderID</a></code>, <code><a href="#field_RT_FILE">RT_FILE</a></code>, <code><a href="#field_RT_FOLDER">RT_FOLDER</a></code>, <code><a href="#field_RT_LD">RT_LD</a></code>, <code><a href="#field_RT_LESSON">RT_LESSON</a></code>, <code><a href="#field_treeDP">treeDP</a></code>, <code><a href="#field_workspaceID">workspaceID</a></code><h4>Inherited from <a href="../../../../../org/lamsfoundation/lams/common/util/Observable.html" title="Class org.lamsfoundation.lams.common.util.Observable" class="class_name">Observable</a></h4><p class="extra_info"></p></div><div class="method_index"><h2>Method Index</h2><p><code>new <a href="#method_WorkspaceModel">WorkspaceModel()</a></code></p><a href="#method_autoOpenFolderInTree">autoOpenFolderInTree()</a>, <a href="#method_broadcastViewUpdate">broadcastViewUpdate()</a>, <a href="#method_clearWorkspaceCache">clearWorkspaceCache()</a>, <a href="#method_clearWorkspaceCacheMultiple">clearWorkspaceCacheMultiple()</a>, <a href="#method_getAvailableLicenses">getAvailableLicenses()</a>, <a href="#method_getClipboardItem">getClipboardItem()</a>, <a href="#method_getSelectedTreeNode">getSelectedTreeNode()</a>, <a href="#method_getWorkspace">getWorkspace()</a>, <a href="#method_getWorkspaceResource">getWorkspaceResource()</a>, <a href="#method_initWorkspaceTree">initWorkspaceTree()</a>, <a href="#method_isWritableResource">isWritableResource()</a>, <a href="#method_openDesignBySelection">openDesignBySelection()</a>, <a href="#method_openFolderInTree">openFolderInTree()</a>, <a href="#method_populateLicenseDetails">populateLicenseDetails()</a>, <a href="#method_setAvailableLicenses">setAvailableLicenses()</a>, <a href="#method_setClipboardItem">setClipboardItem()</a>, <a href="#method_setFolderContents">setFolderContents()</a>, <a href="#method_setFolderOpen">setFolderOpen()</a>, <a href="#method_setSelectedTreeNode">setSelectedTreeNode()</a>, <a href="#method_setWorkspaceResource">setWorkspaceResource()</a>, <a href="#method_showTab">showTab()</a>, <a href="#method_userSetDesignProperties">userSetDesignProperties()</a><h4>Inherited from <a href="../../../../../org/lamsfoundation/lams/common/util/Observable.html" title="Class org.lamsfoundation.lams.common.util.Observable" class="class_name">Observable</a></h4><p class="extra_info"><a href="../../../../../org/lamsfoundation/lams/common/util/Observable.html#method_addObserver">addObserver()</a>, <a href="../../../../../org/lamsfoundation/lams/common/util/Observable.html#method_clearObservers">clearObservers()</a>, <a href="../../../../../org/lamsfoundation/lams/common/util/Observable.html#method_countObservers">countObservers()</a>, <a href="../../../../../org/lamsfoundation/lams/common/util/Observable.html#method_hasChanged">hasChanged()</a>, <a href="../../../../../org/lamsfoundation/lams/common/util/Observable.html#method_notifyObservers">notifyObservers()</a>, <a href="../../../../../org/lamsfoundation/lams/common/util/Observable.html#method_removeObserver">removeObserver()</a></p></div><div class="constructor_detail_list"><h2>Constructor Detail</h2><div class="method_details"><a name="method_WorkspaceModel"/><h3>WorkspaceModel</h3><code class="method_synopsis">public function <strong class="method_name">WorkspaceModel</strong>(w:<a href="../../../../../org/lamsfoundation/lams/common/ws/Workspace.html" title="Class org.lamsfoundation.lams.common.ws.Workspace" class="class_name">Workspace</a>)</code></div></div><div class="field_detail_list"><h2>Field Detail</h2><a name="field_RT_FOLDER"/><h3>RT_FOLDER</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">RT_FOLDER</strong>:<span class="unresolved_type_name">String</span></code></div><a name="field_RT_LD"/><h3>RT_LD</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">RT_LD</strong>:<span class="unresolved_type_name">String</span></code></div><a name="field_RT_LESSON"/><h3>RT_LESSON</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">RT_LESSON</strong>:<span class="unresolved_type_name">String</span></code></div><a name="field_RT_FILE"/><h3>RT_FILE</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">RT_FILE</strong>:<span class="unresolved_type_name">String</span></code></div><a name="field_READ_ACCESS"/><h3>READ_ACCESS</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">READ_ACCESS</strong>:<span class="unresolved_type_name">Number</span></code></div><a name="field_MEMBERSHIP_ACCESS"/><h3>MEMBERSHIP_ACCESS</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">MEMBERSHIP_ACCESS</strong>:<span class="unresolved_type_name">Number</span></code></div><a name="field_OWNER_ACCESS"/><h3>OWNER_ACCESS</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">OWNER_ACCESS</strong>:<span class="unresolved_type_name">Number</span></code></div><a name="field_NO_ACCESS"/><h3>NO_ACCESS</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">NO_ACCESS</strong>:<span class="unresolved_type_name">Number</span></code></div><a name="field_addEventListener"/><h3>addEventListener</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">addEventListener</strong>:<span class="unresolved_type_name">Function</span></code></div><a name="field_removeEventListener"/><h3>removeEventListener</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">removeEventListener</strong>:<span class="unresolved_type_name">Function</span></code></div><a name="field_treeDP"/><h3>treeDP</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">treeDP</strong>:<span class="unresolved_type_name">XML</span> <em class="read_write_only">[Read Only]</em></code></div><a name="field_workspaceID"/><h3>workspaceID</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">workspaceID</strong>:<span class="unresolved_type_name">Number</span></code><div class="field_info">

</div></div><a name="field_rootFolderID"/><h3>rootFolderID</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">rootFolderID</strong>:<span class="unresolved_type_name">Number</span></code><div class="field_info">

</div></div><a name="field_currentTab"/><h3>currentTab</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">currentTab</strong>:<span class="unresolved_type_name">String</span></code><div class="field_info">

</div></div><a name="field_currentMode"/><h3>currentMode</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">currentMode</strong>:<span class="unresolved_type_name">String</span></code><div class="field_info">

</div></div><a name="field_folderIDPendingRefresh"/><h3>folderIDPendingRefresh</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">folderIDPendingRefresh</strong>:<span class="unresolved_type_name">Number</span></code><div class="field_info">

</div></div><a name="field_folderIDPendingRefreshList"/><h3>folderIDPendingRefreshList</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">folderIDPendingRefreshList</strong>:<span class="unresolved_type_name">Array</span></code><div class="field_info">

</div></div></div><div class="method_detail_list"><h2>Method Detail</h2><div class="method_details alt_row"><a name="method_openDesignBySelection"/><h3>openDesignBySelection</h3><code class="method_synopsis">public function <strong class="method_name">openDesignBySelection</strong>()</code><div class="method_info"><p>
 Open the workspace dialog in the centre of the screen
 Pass in the function to be called when a design is selected??
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_userSetDesignProperties"/><h3>userSetDesignProperties</h3><code class="method_synopsis">public function <strong class="method_name">userSetDesignProperties</strong>(tabToSelect:<span class="unresolved_type_name">String</span>)</code><div class="method_info"><p>
 Pops up a dialogue with inputs to set the meta data for the design.
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>tabToSelect</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_showTab"/><h3>showTab</h3><code class="method_synopsis">public function <strong class="method_name">showTab</strong>(tabToSelect:<span class="unresolved_type_name">String</span>)</code><div class="method_info"><p>
 Shows one or other of the tabs in the dialog
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>tabToSelect</code></td><td>can be either LOCATION or PROPERTIES
</td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_broadcastViewUpdate"/><h3>broadcastViewUpdate</h3><code class="method_synopsis">public function <strong class="method_name">broadcastViewUpdate</strong>(_updateType, _data)</code><div class="method_info"><p>
 Notify registered listeners that a data model change has happened.
 Note - Both the VorkspaceView and the WorkspaceDialog are listening (so careful what you say!)
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>_updateType</code></td><td>= the string identifier of this type of update, allows the listener to dispatch to correct function
</td></tr><tr><td><code>_data</code></td><td>= the data to be sent to the view handler
</td></tr></table></div></div><div class="method_details alt_row"><a name="method_initWorkspaceTree"/><h3>initWorkspaceTree</h3><code class="method_synopsis">public function <strong class="method_name">initWorkspaceTree</strong>()</code><div class="method_info"><p>
 Sets up the tree for the 1st time
 Creates the dummy root folder with ID -1
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_openFolderInTree"/><h3>openFolderInTree</h3><code class="method_synopsis">public function <strong class="method_name">openFolderInTree</strong>(resourceToOpen:<span class="unresolved_type_name">Number</span>):<span class="void_name">Void</span></code><div class="method_info"><p>
 Called when the user expands a tree node
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>resourceToOpen</code></td><td>ID:Number of resource to open
</td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_setFolderContents"/><h3>setFolderContents</h3><code class="method_synopsis">public function <strong class="method_name">setFolderContents</strong>(dto:<span class="unresolved_type_name">Object</span>)</code><div class="method_info"><p>
 Callback from loading some folder data.
 Adds the node to the tree (and therfore by ref to the treeDP
 Also adds a ref to the node to the _workspaceResources hashtable with the resourceID as the key
 the contents of the folder as retrieved by getFolderContents() will contain a fodler or a learningdesign:
 <code><pre>
 - creationDateTime = 2004-12-23T0:0:0+10:0
description = Folder
lastModifiedDateTime = 2004-12-23T0:0:0+10:0
name = Mary Morgan Run Sequences Folder
permissionCode = 3.0
resourceID = 7.0
resourceType = Folder
or
creationDateTime = 2006-1-24T9:42:14+10:0
description = An example description
lastModifiedDateTime = 2006-1-24T10:42:14+10:0
name = LD Created:Tue Jan 24 10:42:14 GMT+1100 2006
permissionCode = 3.0
resourceID = 6.0
resourceType = LearningDesign
versionDetails
</pre></code>
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>dto</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_clearWorkspaceCache"/><h3>clearWorkspaceCache</h3><code class="method_synopsis">public function <strong class="method_name">clearWorkspaceCache</strong>(folderIDPendingRefresh)</code><div class="method_info"><p>
 Clears the store of workspace resources -
 TODO:prob could make more granular by passing in a folder ID to clear
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_clearWorkspaceCacheMultiple"/><h3>clearWorkspaceCacheMultiple</h3><code class="method_synopsis">public function <strong class="method_name">clearWorkspaceCacheMultiple</strong>()</code><div class="method_info"><p>
 If mroe than one fodler is pending refresh - use this and ensure the _folderIDPendingRefreshList is populated
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_autoOpenFolderInTree"/><h3>autoOpenFolderInTree</h3><code class="method_synopsis">public function <strong class="method_name">autoOpenFolderInTree</strong>(folderID)</code><div class="method_info"><p>
 Tells the dialog to open a folder, as if the user had expanded the node
 NOTE - this manually generated the onOpen event for the controller
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>folderID</code></td><td>The folder to open
</td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_setFolderOpen"/><h3>setFolderOpen</h3><code class="method_synopsis">public function <strong class="method_name">setFolderOpen</strong>(folderID)</code><div class="method_info"><p>
 Opens folder but does not generate the event (therefore does not request the children, currently not used
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>folderID</code></td><td>The folder to open
</td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_populateLicenseDetails"/><h3>populateLicenseDetails</h3><code class="method_synopsis">public function <strong class="method_name">populateLicenseDetails</strong>()</code><div class="method_info"><p>
 Telkls the dialog that the _availableLicenses array is now full and the combo can be populated
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_setClipboardItem"/><h3>setClipboardItem</h3><code class="method_synopsis">public function <strong class="method_name">setClipboardItem</strong>(item:<span class="unresolved_type_name">Object</span>, mode:<span class="unresolved_type_name">String</span>)</code><div class="method_info"><p>
 Sticks an item on the clipboard
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>item</code></td><td></td></tr><tr><td><code>mode</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_getClipboardItem"/><h3>getClipboardItem</h3><code class="method_synopsis">public function <strong class="method_name">getClipboardItem</strong>():<span class="unresolved_type_name">Object</span></code><div class="method_info"><p>
 retrieves the item from the clipboard
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_isWritableResource"/><h3>isWritableResource</h3><code class="method_synopsis">public function <strong class="method_name">isWritableResource</strong>(resourceType, resourceID)</code><div class="method_info"><p>
 Checks to see if the user can write to this resource
 If the resource is a folder, then can we write inside it
 If the resource is a file/Design then can we overwrite it.
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>resourceType</code></td><td></td></tr><tr><td><code>resourceID</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_setWorkspaceResource"/><h3>setWorkspaceResource</h3><code class="method_synopsis">public function <strong class="method_name">setWorkspaceResource</strong>(key:<span class="unresolved_type_name">String</span>, newworkspaceResources:<span class="unresolved_type_name">XMLNode</span>):<span class="void_name">Void</span></code><div class="method_info"><p>

</p><h4>Parameters</h4><table class="arguments extra_info" summary=""></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_getWorkspaceResource"/><h3>getWorkspaceResource</h3><code class="method_synopsis">public function <strong class="method_name">getWorkspaceResource</strong>(key:<span class="unresolved_type_name">String</span>):<span class="unresolved_type_name">XMLNode</span></code><div class="method_info"><p>

</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_getWorkspace"/><h3>getWorkspace</h3><code class="method_synopsis">public function <strong class="method_name">getWorkspace</strong>():<a href="../../../../../org/lamsfoundation/lams/common/ws/Workspace.html" title="Class org.lamsfoundation.lams.common.ws.Workspace" class="class_name">Workspace</a></code><div class="method_info"><p>

</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_setSelectedTreeNode"/><h3>setSelectedTreeNode</h3><code class="method_synopsis">public function <strong class="method_name">setSelectedTreeNode</strong>(newselectedTreeNode:<span class="unresolved_type_name">XMLNode</span>):<span class="void_name">Void</span></code><div class="method_info"><p>

</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>newselectedTreeNode</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_getSelectedTreeNode"/><h3>getSelectedTreeNode</h3><code class="method_synopsis">public function <strong class="method_name">getSelectedTreeNode</strong>():<span class="unresolved_type_name">XMLNode</span></code><div class="method_info"><p>

</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_setAvailableLicenses"/><h3>setAvailableLicenses</h3><code class="method_synopsis">public function <strong class="method_name">setAvailableLicenses</strong>(newavailableLicenses:<span class="unresolved_type_name">Array</span>):<span class="void_name">Void</span></code><div class="method_info"><p>
 <wddxPacket version='1.0'><header/><data>
 <struct type='Lorg.lamsfoundation.lams.util.wddx.FlashMessage;'>
 <var name='messageKey'><string>getAvailableLicenses</string></var>
 <var name='messageType'><number>3.0</number></var><var name='messageValue'>
 <array length='6'><struct type='Lorg.lamsfoundation.lams.learningdesign.dto.LicenseDTO;'>
 <var name='code'><string>by-nc-sa</string></var>
 <var name='defaultLicense'><boolean value='true'/></var>
 <var name='licenseID'><number>1.0</number></var>
 <var name='name'><string>Attribution-Noncommercial-ShareAlike 2.5</string></var>
 <var name='pictureURL'><string>http://localhost:8080/lams//images/license/byncsa.jpg</string></var>
 <var name='url'><string>http://creativecommons.org/licenses/by-nc-sa/2.5/</string></var>
 </struct>
 * @usage
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>newavailableLicenses</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_getAvailableLicenses"/><h3>getAvailableLicenses</h3><code class="method_synopsis">public function <strong class="method_name">getAvailableLicenses</strong>():<span class="unresolved_type_name">Array</span></code><div class="method_info"><p>

</p><h4>Return</h4><p class="extra_info"></p></div></div></div><ul class="main_nav"><li><a href="../../../../../overview-summary.html">Overview</a></li><li><a href="package-summary.html">Package</a></li><li><span class="nav_current">Class</span></li><li><a href="../../../../../index-files/index.html">Index</a></li></ul><div class="footer"><a href="http://www.badgers-in-foil.co.uk/projects/as2api/" title="ActionScript 2 API Documentation Generator">as2api</a></div></body></html>