<?xml version="1.0"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head><title>org.lamsfoundation.lams.authoring.cv.Canvas</title><link href="../../../../../style.css" rel="stylesheet" type="text/css"/><meta name="generator" content="http://www.badgers-in-foil.co.uk/projects/as2api/"/></head><body><div><a href="#skip_nav" title="Skip navigation"></a></div><ul class="main_nav"><li><a href="../../../../../overview-summary.html">Overview</a></li><li><a href="package-summary.html">Package</a></li><li><span class="nav_current">Class</span></li><li><a href="../../../../../index-files/index.html">Index</a></li></ul><div><a name="skip_nav"></a></div><h1>Class org.lamsfoundation.lams.authoring.cv.Canvas</h1><pre class="type_hierachy"><strong>org.lamsfoundation.lams.authoring.cv.Canvas</strong></pre><div class="type_description"><h2>Description</h2><p>
 The canvas is the main screen area of the LAMS application where activies are added and sequenced
 Note - This holds the DesignDataModel _ddm
</p></div><div class="field_index"><h2>Field Index</h2><code><a href="#field_addEventListener">addEventListener</a></code>, <code><a href="#field_bin">bin</a></code>, <code><a href="#field_className">className</a></code>, <code><a href="#field_ddm">ddm</a></code>, <code><a href="#field_model">model</a></code>, <code><a href="#field_removeEventListener">removeEventListener</a></code>, <code><a href="#field_USE_PROPERTY_INSPECTOR">USE_PROPERTY_INSPECTOR</a></code>, <code><a href="#field_view">view</a></code></div><div class="method_index"><h2>Method Index</h2><p><code>new <a href="#method_Canvas">Canvas()</a></code></p><a href="#method_clearCanvas">clearCanvas()</a>, <a href="#method_confirmedClearDesign">confirmedClearDesign()</a>, <a href="#method_getCanvasModel">getCanvasModel()</a>, <a href="#method_getCanvasView">getCanvasView()</a>, <a href="#method_initBin">initBin()</a>, <a href="#method_initPropertyInspector">initPropertyInspector()</a>, <a href="#method_onDDMBeforeUpdate">onDDMBeforeUpdate()</a>, <a href="#method_onDDMUpdated">onDDMUpdated()</a>, <a href="#method_onStoreDesignResponse">onStoreDesignResponse()</a>, <a href="#method_openDesignById">openDesignById()</a>, <a href="#method_openDesignBySelection">openDesignBySelection()</a>, <a href="#method_piLoaded">piLoaded()</a>, <a href="#method_redo">redo()</a>, <a href="#method_removeActivity">removeActivity()</a>, <a href="#method_removeTransition">removeTransition()</a>, <a href="#method_resetCanvas">resetCanvas()</a>, <a href="#method_saveDesign">saveDesign()</a>, <a href="#method_saveDesignToServer">saveDesignToServer()</a>, <a href="#method_saveDesignToServerAs">saveDesignToServerAs()</a>, <a href="#method_setDesign">setDesign()</a>, <a href="#method_setDroppedTemplateActivity">setDroppedTemplateActivity()</a>, <a href="#method_setPastedItem">setPastedItem()</a>, <a href="#method_setPosition">setPosition()</a>, <a href="#method_setSize">setSize()</a>, <a href="#method_startTransitionTool">startTransitionTool()</a>, <a href="#method_stopTransitionTool">stopTransitionTool()</a>, <a href="#method_toggleTransitionTool">toggleTransitionTool()</a>, <a href="#method_undo">undo()</a>, <a href="#method_viewLoaded">viewLoaded()</a></div><div class="constructor_detail_list"><h2>Constructor Detail</h2><div class="method_details"><a name="method_Canvas"/><h3>Canvas</h3><code class="method_synopsis">public function <strong class="method_name">Canvas</strong>(target_mc:<span class="unresolved_type_name">MovieClip</span>, depth:<span class="unresolved_type_name">Number</span>, x:<span class="unresolved_type_name">Number</span>, y:<span class="unresolved_type_name">Number</span>, w:<span class="unresolved_type_name">Number</span>, h:<span class="unresolved_type_name">Number</span>)</code><div class="method_info"><p>
 Canvas Constructor

</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>target_mc</code></td><td>Target clip for attaching view
</td></tr></table></div></div></div><div class="field_detail_list"><h2>Field Detail</h2><a name="field_USE_PROPERTY_INSPECTOR"/><h3>USE_PROPERTY_INSPECTOR</h3><div class="field_details"><code class="field_synopsis">static public <strong class="field_name">USE_PROPERTY_INSPECTOR</strong></code></div><a name="field_addEventListener"/><h3>addEventListener</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">addEventListener</strong>:<span class="unresolved_type_name">Function</span></code></div><a name="field_removeEventListener"/><h3>removeEventListener</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">removeEventListener</strong>:<span class="unresolved_type_name">Function</span></code></div><a name="field_model"/><h3>model</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">model</strong>:<a href="../../../../../org/lamsfoundation/lams/authoring/cv/CanvasModel.html" title="Class org.lamsfoundation.lams.authoring.cv.CanvasModel" class="class_name">CanvasModel</a> <em class="read_write_only">[Read Only]</em></code></div><a name="field_view"/><h3>view</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">view</strong>:<span class="unresolved_type_name">MovieClip</span> <em class="read_write_only">[Read Only]</em></code></div><a name="field_className"/><h3>className</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">className</strong>:<span class="unresolved_type_name">String</span> <em class="read_write_only">[Read Only]</em></code></div><a name="field_ddm"/><h3>ddm</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">ddm</strong>:<a href="../../../../../org/lamsfoundation/lams/authoring/DesignDataModel.html" title="Class org.lamsfoundation.lams.authoring.DesignDataModel" class="class_name">DesignDataModel</a> <em class="read_write_only">[Read Only]</em></code></div><a name="field_bin"/><h3>bin</h3><div class="field_details"><code class="field_synopsis">public <strong class="field_name">bin</strong>:<span class="unresolved_type_name">MovieClip</span> <em class="read_write_only">[Read Only]</em></code><div class="field_info">

</div></div></div><div class="method_detail_list"><h2>Method Detail</h2><div class="method_details alt_row"><a name="method_viewLoaded"/><h3>viewLoaded</h3><code class="method_synopsis">public function <strong class="method_name">viewLoaded</strong>(evt:<span class="unresolved_type_name">Object</span>)</code><div class="method_info"><p>
 Event dispatched from the view once it's loaded
</p></div></div><div class="method_details"><a name="method_openDesignBySelection"/><h3>openDesignBySelection</h3><code class="method_synopsis">public function <strong class="method_name">openDesignBySelection</strong>()</code><div class="method_info"><p>
 Opens a design using workspace and user to select design ID
 passes the callback function to recieve selected ID
</p></div></div><div class="method_details alt_row"><a name="method_openDesignById"/><h3>openDesignById</h3><code class="method_synopsis">public function <strong class="method_name">openDesignById</strong>(workspaceResultDTO:<span class="unresolved_type_name">Object</span>)</code><div class="method_info"><p>
 Request design from server using supplied ID.
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_saveDesign"/><h3>saveDesign</h3><code class="method_synopsis">public function <strong class="method_name">saveDesign</strong>()</code></div><div class="method_details alt_row"><a name="method_saveDesignToServerAs"/><h3>saveDesignToServerAs</h3><code class="method_synopsis">public function <strong class="method_name">saveDesignToServerAs</strong>()</code><div class="method_info"><p>
 Launch workspace browser dialog and set the design metat data for saving
 E.g. Title, Desc, Folder etc... also license if required?
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_saveDesignToServer"/><h3>saveDesignToServer</h3><code class="method_synopsis">public function <strong class="method_name">saveDesignToServer</strong>(workspaceResultDTO:<span class="unresolved_type_name">Object</span>):<span class="unresolved_type_name">Boolean</span></code><div class="method_info"><p>
 Updates the design with the detsils form the workspace :
 	* <code>
	_resultDTO.selectedResourceID 	//The ID of the resource that was selected when the dialogue closed
	_resultDTO.resourceName 		//The contents of the Name text field
	_resultDTO.resourceDescription 	//The contents of the description field on the propertirs tab
	_resultDTO.resourceLicenseText 	//The contents of the license text field
	_resultDTO.resourceLicenseID 	//The ID of the selected license from the drop down.
</code>
 And then saves the design to the sever by posting XML via comms class
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_onStoreDesignResponse"/><h3>onStoreDesignResponse</h3><code class="method_synopsis">public function <strong class="method_name">onStoreDesignResponse</strong>(r):<span class="void_name">Void</span></code></div><div class="method_details"><a name="method_setDroppedTemplateActivity"/><h3>setDroppedTemplateActivity</h3><code class="method_synopsis">public function <strong class="method_name">setDroppedTemplateActivity</strong>(ta:<a href="../../../../../org/lamsfoundation/lams/authoring/tk/TemplateActivity.html" title="Class org.lamsfoundation.lams.authoring.tk.TemplateActivity" class="class_name">TemplateActivity</a>):<span class="void_name">Void</span></code><div class="method_info"><p>
 Called when a template activity is dropped onto the canvas
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>ta</code></td><td>TemplateActivity
</td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_removeActivity"/><h3>removeActivity</h3><code class="method_synopsis">public function <strong class="method_name">removeActivity</strong>(activityUIID:<span class="unresolved_type_name">Number</span>)</code><div class="method_info"><p>
 Removes an activity using its activityUIID.
 Called by the bin
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>activityUIID</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_removeTransition"/><h3>removeTransition</h3><code class="method_synopsis">public function <strong class="method_name">removeTransition</strong>(transitionUIID:<span class="unresolved_type_name">Number</span>)</code><div class="method_info"><p>
 Removes an transition by using its transitionUIID.
 Called by the bin
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>transitionUIID</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_setDesign"/><h3>setDesign</h3><code class="method_synopsis">public function <strong class="method_name">setDesign</strong>(designData:<span class="unresolved_type_name">Object</span>)</code><div class="method_info"><p>
 Called by Comms after a design has been loaded, usually set as the call back of something like openDesignByID.
 Will accept a learningDesign DTO and then render it all out.
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>designData</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_clearCanvas"/><h3>clearCanvas</h3><code class="method_synopsis">public function <strong class="method_name">clearCanvas</strong>(noWarn:<span class="unresolved_type_name">Boolean</span>):<span class="unresolved_type_name">Boolean</span></code><div class="method_info"><p>
 Clears the design in the canvas.but leaves other state variables (undo etc..)
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>noWarn</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_resetCanvas"/><h3>resetCanvas</h3><code class="method_synopsis">public function <strong class="method_name">resetCanvas</strong>(noWarn:<span class="unresolved_type_name">Boolean</span>):<span class="unresolved_type_name">Boolean</span></code><div class="method_info"><p>
 Returns canvas to init state, ready for new design
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>noWarn</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_confirmedClearDesign"/><h3>confirmedClearDesign</h3><code class="method_synopsis">public function <strong class="method_name">confirmedClearDesign</strong>(ref):<span class="void_name">Void</span></code><div class="method_info"><p>
 Called when a user confirms its ok to clear the design
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>ref</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_setPastedItem"/><h3>setPastedItem</h3><code class="method_synopsis">public function <strong class="method_name">setPastedItem</strong>(o:<span class="unresolved_type_name">Object</span>):<span class="unresolved_type_name">Object</span></code><div class="method_info"><p>
 Called when the user initiates a paste.  recieves a reference to the item to be copied
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>o</code></td><td>Item to be copied
</td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_toggleTransitionTool"/><h3>toggleTransitionTool</h3><code class="method_synopsis">public function <strong class="method_name">toggleTransitionTool</strong>():<span class="void_name">Void</span></code></div><div class="method_details alt_row"><a name="method_startTransitionTool"/><h3>startTransitionTool</h3><code class="method_synopsis">public function <strong class="method_name">startTransitionTool</strong>():<span class="void_name">Void</span></code><div class="method_info"><p>
 Called by the top menu bar and the tool bar to start the transition tool, switches cursor.
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_stopTransitionTool"/><h3>stopTransitionTool</h3><code class="method_synopsis">public function <strong class="method_name">stopTransitionTool</strong>():<span class="void_name">Void</span></code><div class="method_info"><p>
 Called by the top menu bar and the tool bar to stop the transition tool, switches cursor.
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_setSize"/><h3>setSize</h3><code class="method_synopsis">public function <strong class="method_name">setSize</strong>(width:<span class="unresolved_type_name">Number</span>, height:<span class="unresolved_type_name">Number</span>):<span class="void_name">Void</span></code><div class="method_info"><p>
 Used by application to set the size
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>width</code></td><td>The desired width
</td></tr><tr><td><code>height</code></td><td>the desired height
</td></tr></table></div></div><div class="method_details"><a name="method_initPropertyInspector"/><h3>initPropertyInspector</h3><code class="method_synopsis">public function <strong class="method_name">initPropertyInspector</strong>():<span class="void_name">Void</span></code><div class="method_info"><p>
 Initialises the property inspector
</p></div></div><div class="method_details alt_row"><a name="method_initBin"/><h3>initBin</h3><code class="method_synopsis">public function <strong class="method_name">initBin</strong>():<span class="void_name">Void</span></code><div class="method_info"><p>
 Sts up the bin
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_piLoaded"/><h3>piLoaded</h3><code class="method_synopsis">public function <strong class="method_name">piLoaded</strong>(evt:<span class="unresolved_type_name">Object</span>)</code></div><div class="method_details alt_row"><a name="method_onDDMUpdated"/><h3>onDDMUpdated</h3><code class="method_synopsis">public function <strong class="method_name">onDDMUpdated</strong>(evt:<span class="unresolved_type_name">Object</span>):<span class="void_name">Void</span></code><div class="method_info"><p>
 recieves event fired after update to the DDM
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>evt</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_onDDMBeforeUpdate"/><h3>onDDMBeforeUpdate</h3><code class="method_synopsis">public function <strong class="method_name">onDDMBeforeUpdate</strong>(evt:<span class="unresolved_type_name">Object</span>):<span class="void_name">Void</span></code><div class="method_info"><p>
 recieves event fired before updating the DDM
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>evt</code></td><td></td></tr></table><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_undo"/><h3>undo</h3><code class="method_synopsis">public function <strong class="method_name">undo</strong>():<span class="void_name">Void</span></code><div class="method_info"><p>
 Undo the last change to the DDM
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details"><a name="method_redo"/><h3>redo</h3><code class="method_synopsis">public function <strong class="method_name">redo</strong>():<span class="void_name">Void</span></code><div class="method_info"><p>
 Redo last what was undone by the undo method.
 NOTE: if a new edit is made, the re-do stack is cleared
</p><h4>Return</h4><p class="extra_info"></p></div></div><div class="method_details alt_row"><a name="method_setPosition"/><h3>setPosition</h3><code class="method_synopsis">public function <strong class="method_name">setPosition</strong>(x:<span class="unresolved_type_name">Number</span>, y:<span class="unresolved_type_name">Number</span>):<span class="void_name">Void</span></code><div class="method_info"><p>
 Used by application to set the Position
</p><h4>Parameters</h4><table class="arguments extra_info" summary=""><tr><td><code>x</code></td><td></td></tr><tr><td><code>y</code></td><td></td></tr></table></div></div><div class="method_details"><a name="method_getCanvasModel"/><h3>getCanvasModel</h3><code class="method_synopsis">public function <strong class="method_name">getCanvasModel</strong>():<a href="../../../../../org/lamsfoundation/lams/authoring/cv/CanvasModel.html" title="Class org.lamsfoundation.lams.authoring.cv.CanvasModel" class="class_name">CanvasModel</a></code></div><div class="method_details alt_row"><a name="method_getCanvasView"/><h3>getCanvasView</h3><code class="method_synopsis">public function <strong class="method_name">getCanvasView</strong>():<span class="unresolved_type_name">MovieClip</span></code></div></div><ul class="main_nav"><li><a href="../../../../../overview-summary.html">Overview</a></li><li><a href="package-summary.html">Package</a></li><li><span class="nav_current">Class</span></li><li><a href="../../../../../index-files/index.html">Index</a></li></ul><div class="footer"><a href="http://www.badgers-in-foil.co.uk/projects/as2api/" title="ActionScript 2 API Documentation Generator">as2api</a></div></body></html>