<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 2.0//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd" >
    
<hibernate-mapping>
<!-- 
    Created by the Middlegen Hibernate plugin 2.1

    http://boss.bekk.no/boss/middlegen/
    http://www.hibernate.org/
-->

<class name="com.lamsinternational.lams.learningdesign.Activity" table="lams_learning_activity">
    <meta attribute="class-description" inherit="false">@hibernate.class table="lams_learning_activity" </meta>
    <meta attribute="implement-equals" inherit="false">true</meta>
    <meta attribute="scope-class" inherit="false">public abstract</meta>    

    <id name="activityId" type="java.lang.Long" column="activity_id">
        <meta attribute="field-description">@hibernate.id generator-class="assigned" type="java.lang.Long" column="activity_id" </meta>
        <generator class="assigned" />
    </id>
    <discriminator column = "learning_activity_type_id" insert="false"/>
    
    <property name="id" type="java.lang.Integer" column="id" length="11" >
        <meta attribute="field-description">@hibernate.property column="id" length="11" </meta>
        <meta attribute="use-in-toString">true</meta>    
    </property>
    <property name="description" type="java.lang.String" column="description" length="65535" >
        <meta attribute="field-description">@hibernate.property column="description" length="65535"</meta>    
        <meta attribute="use-in-toString">true</meta>
    </property>
    <property name="title" type="java.lang.String" column="title" length="255">
        <meta attribute="field-description">@hibernate.property column="title" length="255"</meta>   
        <meta attribute="use-in-toString">true</meta> 
    </property>
    <property name="xcoord" type="java.lang.Integer" column="xcoord" length="11" >
        <meta attribute="field-description">@hibernate.property column="xcoord" length="11"</meta>    
        <meta attribute="use-in-toString">true</meta>
    </property>
    <property name="ycoord" type="java.lang.Integer" column="ycoord" length="11">
        <meta attribute="field-description">@hibernate.property column="ycoord" length="11" </meta>    
        <meta attribute="use-in-toString">true</meta>
    </property>
    <property name="orderId" type="java.lang.Integer" column="order_id" length="11">
    	<meta attribute="field-description">@hibernate.property column="order_id" length="11"</meta>    
    	<meta attribute="use-in-toString">true</meta>
    </property>
    <property name="defineLater" type="java.lang.Boolean" column="define_later_flag" not-null="true" length="4">
        <meta attribute="field-description"> @hibernate.property column="define_later_flag" length="4" not-null="true" </meta>    
        <meta attribute="use-in-toString">true</meta>
    </property>
    <property name="createDateTime" type="java.sql.Timestamp" column="create_date_time" not-null="true" length="19">
    	<meta attribute="field-description">@hibernate.property column="create_date_time" length="19" not-null="true" </meta>    
    	<meta attribute="use-in-toString">true</meta>
    </property>
    <property name="offlineInstructions" type="java.lang.String" column="offline_instructions" length="65535">
        <meta attribute="field-description">@hibernate.property column="offline_instructions" length="65535"</meta>    
        <meta attribute="use-in-toString">true</meta>
    </property>
    
    <!-- Associations -->
  
    <!-- bi-directional many-to-one association to Grouping -->
    <many-to-one name="grouping" class="com.lamsinternational.lams.learningdesign.Grouping" not-null="true" >
        <meta attribute="field-description">@hibernate.many-to-one not-null="true" @hibernate.column name="grouping_id"</meta>
        <column name="grouping_id" />
    </many-to-one>
    
    <!-- bi-directional many-to-one association to LearningLibrary -->
    <many-to-one name="learningLibrary" class="com.lamsinternational.lams.learningdesign.LearningLibrary" not-null="true">
        <meta attribute="field-description">@hibernate.many-to-one not-null="true" @hibernate.column name="learning_library_id"</meta>
        <column name="learning_library_id" />
    </many-to-one>
    
    <!-- bi-directional many-to-one association to LearningDesign -->
    <many-to-one name="learningDesign" class="com.lamsinternational.lams.learningdesign.LearningDesign" not-null="true">
        <meta attribute="field-description">@hibernate.many-to-one not-null="true" @hibernate.column name="learning_design_id"</meta>
        <column name="learning_design_id" />
    </many-to-one>
    
    <!-- bi-directional one-to-many association to Transition -->
    <set name="transitionsByToActivityId" lazy="true" inverse="true" cascade="none" >
        <meta attribute="field-description">@hibernate.set lazy="true" inverse="true" cascade="none"
        						            @hibernate.collection-key column="to_activity_id"
        						            @hibernate.collection-one-to-many class="com.lamsinternational.lams.learningdesign.Transition"
        </meta>
        <key><column name="to_activity_id" /></key>
        <one-to-many class="com.lamsinternational.lams.learningdesign.Transition"/>
    </set>
    
    <!-- bi-directional one-to-many association to Transition -->
    <set name="transitionsByFromActivityId" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description">@hibernate.set lazy="true" inverse="true" cascade="none" 
        						            @hibernate.collection-key column="from_activity_id"
        						            @hibernate.collection-one-to-many class="com.lamsinternational.lams.learningdesign.Transition"
        </meta>
        <key><column name="from_activity_id" /></key>
        <one-to-many class="com.lamsinternational.lams.learningdesign.Transition"/>
    </set>
    
    <!-- bi-directional one-to-many association to Activity -->
    <set name="activities" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description">@hibernate.set lazy="true" inverse="true" cascade="none" 
        						            @hibernate.collection-key column="parent_activity_id"
        						            @hibernate.collection-one-to-many class="com.lamsinternational.lams.learningdesign.Activity"
        </meta>
        <key><column name="parent_activity_id" /></key>
        <one-to-many class="com.lamsinternational.lams.learningdesign.Activity"/>
    </set>
    
    <!-- bi-directional many-to-one association to Activity -->
    <many-to-one name="activity" class="com.lamsinternational.lams.learningdesign.Activity" not-null="true">
        <meta attribute="field-description">@hibernate.many-to-one not-null="true" @hibernate.column name="parent_activity_id"</meta>
        <column name="parent_activity_id" />
    </many-to-one>
    
    <!-- bi-directional many-to-one association to ActivityType --> 
    <many-to-one name="activityType" class="com.lamsinternational.lams.learningdesign.ActivityType" not-null="true">
        <meta attribute="field-description">@hibernate.many-to-one not-null="true" @hibernate.column name="learning_activity_type_id"</meta>
        <column name ="learning_activity_type_id" />
    </many-to-one>
    
    <!-- bi-directional many-to-one association to GateActivityLevel -->
    <many-to-one name="gateActivityLevel" class="com.lamsinternational.lams.learningdesign.GateActivityLevel" not-null="true">
        <meta attribute="field-description">@hibernate.many-to-one not-null="true" @hibernate.column name="gate_activity_level_id"</meta>
        <column name="gate_activity_level_id" />
    </many-to-one>
    
    <!-- bi-directional many-to-one association to ToolContent -->
    <many-to-one name="toolContent" class="com.lamsinternational.lams.learningdesign.ToolContent" not-null="true">
        <meta attribute="field-description">@hibernate.many-to-one not-null="true" @hibernate.column name="tool_content_id"</meta>
        <column name="tool_content_id" />
    </many-to-one>
    
    <!-- bi-directional many-to-one association to Tool -->
    <many-to-one name="tool" class="com.lamsinternational.lams.learningdesign.Tool" not-null="true">
        <meta attribute="field-description">@hibernate.many-to-one not-null="true" @hibernate.column name="tool_id"</meta>
        <column name="tool_id" />
    </many-to-one>    
    
    
     <subclass name="com.lamsinternational.lams.learningdesign.SimpleActivity">
     	 <meta attribute="class-description" inherit="false">@hibernate.class </meta>
         <meta attribute="scope-class" inherit="false">public abstract</meta>
			<subclass name="com.lamsinternational.lams.learningdesign.ToolActivity">
				<meta attribute="class-description" inherit="false">@hibernate.class </meta>
			</subclass>
			<subclass name="com.lamsinternational.lams.learningdesign.GroupingActivity">
				<meta attribute="class-description" inherit="false">@hibernate.class </meta>				
				<subclass name="com.lamsinternational.lams.learningdesign.ChosenGroupingActivity">
					<meta attribute="class-description" inherit="false">@hibernate.class </meta>
				</subclass>
				<subclass name="com.lamsinternational.lams.learningdesign.RandomGroupingActivity">
					<meta attribute="class-description" inherit="false">@hibernate.class </meta>
				</subclass>				
			</subclass>
			<subclass name="com.lamsinternational.lams.learningdesign.GateActivity">
				<meta attribute="class-description" inherit="false">@hibernate.class </meta>
							
				<property name="gateStartDateTime" type="java.sql.Timestamp" column="gate_start_date_time" length="19">
        			<meta attribute="field-description">@hibernate.property column="gate_start_date_time" length="19"</meta>    
        			<meta attribute="use-in-toString">true</meta>
			    </property>
			    <property name="gateEndDateTime" type="java.sql.Timestamp" column="gate_end_date_time" length="19" >
			    	<meta attribute="field-description">@hibernate.property column="gate_end_date_time" length="19" </meta>    
			    	<meta attribute="use-in-toString">true</meta>
			    </property>				
				<subclass name="com.lamsinternational.lams.learningdesign.ScheduleGateActivity">
					<meta attribute="class-description" inherit="false">@hibernate.class </meta>
				</subclass>
				<subclass name="com.lamsinternational.lams.learningdesign.SynchGateActivity">
					<meta attribute="class-description" inherit="false">@hibernate.class </meta>
				</subclass>
				<subclass name="com.lamsinternational.lams.learningdesign.PermissionGateActivity">
					<meta attribute="class-description" inherit="false">@hibernate.class </meta>
				</subclass>
			</subclass>			
	</subclass>

	<subclass name="com.lamsinternational.lams.learningdesign.ComplexActivity">
		<meta attribute="class-description" inherit="false">@hibernate.class </meta>			
	    <meta attribute="scope-class" inherit="false">public abstract</meta>
			<subclass name="com.lamsinternational.lams.learningdesign.OptionsActivity">
				<meta attribute="class-description" inherit="false">@hibernate.class </meta>
				<property name="maxNumberOfOptions" type="java.lang.Integer" column="max_number_of_options" length="5">
					<meta attribute="field-description">@hibernate.property column="max_number_of_options" length="5"</meta>    
					<meta attribute="use-in-toString">true</meta>
				</property>
			    <property name="minNumberOfOptions" type="java.lang.Integer" column="min_number_of_options" length="5">
					<meta attribute="field-description">@hibernate.property column="min_number_of_options" length="5"</meta> 
					<meta attribute="use-in-toString">true</meta>
			    </property>
			</subclass>
			<subclass name="com.lamsinternational.lams.learningdesign.SequenceActivity">
				<meta attribute="class-description" inherit="false">@hibernate.class </meta>
			</subclass>
			<subclass name="com.lamsinternational.lams.learningdesign.ParallelActivity">
				<meta attribute="class-description" inherit="false">@hibernate.class </meta>
			</subclass>
	</subclass>
</class>
</hibernate-mapping>
