<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<!--
  - Application context definition for LAMS. Used to deploy to JBOSS.
-->
<beans>

	<!-- ========================= GENERAL DEFINITIONS ========================= -->

	<import resource="messageContext.xml"/>

	<!-- ========================= RESOURCE DEFINITIONS ========================= -->

 	<!-- Hibernate SessionFactory. Since LAMS 2.3 it is used in all tools and other parts of LAMS,
 		 rather than several local Session Factiories.
 	-->
	<bean id="coreSessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
		<property name="dataSource"><ref bean="dataSource"/></property>
		<property name="mappingLocations">
			<list>
				<!-- usermanagement related mapping files -->	
				<value>classpath:org/lamsfoundation/lams/usermanagement/AuthenticationMethod.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/AuthenticationMethodType.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/Organisation.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/OrganisationState.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/OrganisationType.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/Role.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/Privilege.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/RolePrivilege.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/User.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/ForgotPasswordRequest.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/UserOrganisation.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/UserOrganisationCollapsed.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/UserOrganisationRole.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/Workspace.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/WorkspaceFolder.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/WorkspaceWorkspaceFolder.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/usermanagement/SupportedLocale.hbm.xml</value>
				
				<!-- learning design related mapping files -->
				<value>classpath:org/lamsfoundation/lams/learningdesign/Activity.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/learningdesign/BranchActivityEntry.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/learningdesign/BranchCondition.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/learningdesign/Group.hbm.xml</value>		
				<value>classpath:org/lamsfoundation/lams/learningdesign/GroupUser.hbm.xml</value>			
				<value>classpath:org/lamsfoundation/lams/learningdesign/Grouping.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/learningdesign/LearningDesign.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/learningdesign/Competence.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/learningdesign/CompetenceMapping.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/learningdesign/LearningLibrary.hbm.xml</value>	
				<value>classpath:org/lamsfoundation/lams/learningdesign/Transition.hbm.xml</value>	
				<value>classpath:org/lamsfoundation/lams/learningdesign/License.hbm.xml</value>	
				<value>classpath:org/lamsfoundation/lams/learningdesign/ActivityEvaluation.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/learningdesign/DataFlowObject.hbm.xml</value>
				
				
				<!-- lesson related mapping files-->
				<value>classpath:org/lamsfoundation/lams/lesson/LearnerProgress.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/lesson/Lesson.hbm.xml</value>
 				<value>classpath:org/lamsfoundation/lams/lesson/CompletedActivityProgress.hbm.xml</value>
 				
				<!-- Workspace related mapping files -->
				<value>classpath:org/lamsfoundation/lams/workspace/WorkspaceFolderContent.hbm.xml</value>
				
				<!-- Theme related mapping files -->
				<value>classpath:org/lamsfoundation/lams/themes/CSSProperty.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/themes/CSSStyle.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/themes/CSSThemeVisualElement.hbm.xml</value>
				
				<!-- Core Notebook Service related mapping files -->
				<value>classpath:org/lamsfoundation/lams/notebook/model/NotebookEntry.hbm.xml</value>
				
				<!-- Presence Chat Service related mapping files -->
				<value>classpath:org/lamsfoundation/lams/presence/model/PresenceChatMessage.hbm.xml</value>
				
				<!-- Event notification service related mapping files-->
				<value>classpath:org/lamsfoundation/lams/events/Event.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/events/Subscription.hbm.xml</value>
				
				<!--  Configuration related mapping files -->
				<value>classpath:org/lamsfoundation/lams/config/ConfigurationItem.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/config/Registration.hbm.xml</value>
				
				<!-- Integration related mapping files -->
				<value>classpath:org/lamsfoundation/lams/integration/ExtServerOrgMap.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/integration/ExtCourseClassMap.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/integration/ExtUserUseridMap.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/integration/ExtServerToolAdapterMap.hbm.xml</value>
				
				<!-- Pedagogical Planner related mapping files-->
				<value>classpath:org/lamsfoundation/lams/planner/PedagogicalPlannerSequenceNode.hbm.xml</value>
				
								<!-- Gradebook related mapping files -->
				<value>classpath:org/lamsfoundation/lams/gradebook/GradebookUserActivity.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/gradebook/GradebookUserLesson.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/contentrepository/CrCredential.hbm.xml</value>
 				<value>classpath:org/lamsfoundation/lams/contentrepository/CrNode.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/contentrepository/CrNodeVersion.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/contentrepository/CrNodeVersionProperty.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/contentrepository/CrWorkspace.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/contentrepository/CrWorkspaceCredential.hbm.xml</value>
				
				<!-- Mapping files for all tools -->
		 		
				<value>classpath*:org/lamsfoundation/lams/tool/**/**/*.hbm.xml</value>
				
				<!-- Explicit list of tools' mapping files come handy in debugging 
				
				<value>classpath:org/lamsfoundation/lams/tool/BasicToolVO.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/SystemTool.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/Tool.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/ToolContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/ToolImportSupport.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/ToolSession.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/forum/persistence/Attachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/forum/persistence/Forum.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/forum/persistence/ForumCondition.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/forum/persistence/ForumReport.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/forum/persistence/ForumToolSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/forum/persistence/ForumUser.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/forum/persistence/Message.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/forum/persistence/MessageSeq.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/forum/persistence/Timestamp.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/noticeboard/NoticeboardAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/noticeboard/NoticeboardContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/noticeboard/NoticeboardSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/noticeboard/NoticeboardUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/mc/McContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/mc/McOptsContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/mc/McQueContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/mc/McQueUsr.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/mc/McSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/mc/McUploadedFile.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/mc/McUsrAttempt.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/wiki/model/Wiki.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/wiki/model/WikiAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/wiki/model/WikiPage.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/wiki/model/WikiPageContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/wiki/model/WikiSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/wiki/model/WikiUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/vote/VoteContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/vote/VoteQueContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/vote/VoteQueUsr.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/vote/VoteSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/vote/VoteUploadedFile.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/vote/VoteUsrAttempt.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/taskList/model/TaskList.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/taskList/model/TaskListAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/taskList/model/TaskListCondition.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/taskList/model/TaskListItem.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/taskList/model/TaskListItemAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/taskList/model/TaskListItemComment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/taskList/model/TaskListItemVisitLog.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/taskList/model/TaskListSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/taskList/model/TaskListUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/survey/model/Survey.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/survey/model/SurveyAnswer.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/survey/model/SurveyAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/survey/model/SurveyCondition.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/survey/model/SurveyOption.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/survey/model/SurveyQuestion.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/survey/model/SurveySession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/survey/model/SurveyUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/spreadsheet/model/Spreadsheet.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/spreadsheet/model/SpreadsheetAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/spreadsheet/model/SpreadsheetMark.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/spreadsheet/model/SpreadsheetSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/spreadsheet/model/SpreadsheetUser.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/spreadsheet/model/UserModifiedSpreadsheet.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/scribe/model/Scribe.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/scribe/model/ScribeAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/scribe/model/ScribeHeading.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/scribe/model/ScribeReportEntry.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/scribe/model/ScribeSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/scribe/model/ScribeUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/sbmt/InstructionFiles.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/sbmt/SubmissionDetails.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/sbmt/SubmitFilesContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/sbmt/SubmitFilesReport.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/sbmt/SubmitFilesSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/sbmt/SubmitUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/pixlr/model/Pixlr.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/pixlr/model/PixlrAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/pixlr/model/PixlrConfigItem.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/pixlr/model/PixlrSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/pixlr/model/PixlrUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/videoRecorder/model/VideoRecorder.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/videoRecorder/model/VideoRecorderAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/videoRecorder/model/VideoRecorderComment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/videoRecorder/model/VideoRecorderCondition.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/videoRecorder/model/VideoRecorderRating.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/videoRecorder/model/VideoRecorderRecording.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/videoRecorder/model/VideoRecorderSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/videoRecorder/model/VideoRecorderUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/Assessment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentOptionAnswer.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentOverallFeedback.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentQuestion.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentQuestionOption.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentQuestionResult.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentResult.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentUnit.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/assessment/model/AssessmentUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/notebook/model/Notebook.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/notebook/model/NotebookAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/notebook/model/NotebookCondition.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/notebook/model/NotebookSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/notebook/model/NotebookUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/rsrc/model/Resource.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/rsrc/model/ResourceAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/rsrc/model/ResourceItem.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/rsrc/model/ResourceItemInstruction.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/rsrc/model/ResourceItemVisitLog.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/rsrc/model/ResourceSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/rsrc/model/ResourceUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaCondition.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaConfigItem.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaQueContent.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaQueUsr.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaUploadedFile.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaUsrResp.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaWizardCategory.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaWizardCognitiveSkill.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/qa/QaWizardQuestion.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageComment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageGallery.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageGalleryAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageGalleryConfigItem.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageGalleryItem.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageGalleryItemVisitLog.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageGallerySession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageGalleryUser.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageRating.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/imageGallery/model/ImageVote.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/gmap/model/Gmap.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/gmap/model/GmapAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/gmap/model/GmapConfigItem.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/gmap/model/GmapMarker.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/gmap/model/GmapSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/gmap/model/GmapUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/dimdim/model/Dimdim.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/dimdim/model/DimdimAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/dimdim/model/DimdimConfig.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/dimdim/model/DimdimSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/dimdim/model/DimdimUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/daco/model/Daco.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/daco/model/DacoAnswer.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/daco/model/DacoAnswerOption.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/daco/model/DacoAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/daco/model/DacoQuestion.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/daco/model/DacoSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/daco/model/DacoUser.hbm.xml</value>
				
				<value>classpath:org/lamsfoundation/lams/tool/chat/model/Chat.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/chat/model/ChatAttachment.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/chat/model/ChatCondition.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/chat/model/ChatMessage.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/chat/model/ChatSession.hbm.xml</value>
				<value>classpath:org/lamsfoundation/lams/tool/chat/model/ChatUser.hbm.xml</value>
				-->
			</list>
		</property>
		<property name="hibernateProperties"><ref bean="hibernateProperties"/></property>
	</bean>
	
	<!-- ========================= BUSINESS OBJECT DEFINITIONS ========================= -->

	<!-- LAMS primary business object: Hibernate implementation -->
	<bean id="userManagementServiceTarget" class="org.lamsfoundation.lams.usermanagement.service.UserManagementService"
		singleton="false"
	>
		<property name="baseDAO"><ref bean="baseDAO"/></property>
		<property name="groupDAO"><ref bean="groupDAO"/></property>
		<property name="roleDAO"><ref bean="roleDAO"/></property>
		<property name="organisationDAO"><ref bean="organisationDAO"/></property>
		<property name="userOrganisationDAO"><ref bean="userOrganisationDAO"/></property>
		<property name="messageService"><ref bean="commonMessageService"/></property>
	</bean>	
	
	<!-- Transactional proxy for the user management primary business object -->
	<bean id="userManagementService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref local="userManagementServiceTarget"/></property>
		<property name="proxyTargetClass"><value>true</value></property> 
		<property name="transactionAttributes">
			<props>
				<prop key="get*">PROPAGATION_REQUIRED</prop>
				<prop key="find*">PROPAGATION_REQUIRED</prop>
				<prop key="save*">PROPAGATION_REQUIRED</prop>
				<prop key="create*">PROPAGATION_REQUIRED</prop>
				<prop key="update*">PROPAGATION_REQUIRED</prop>
				<prop key="remove*">PROPAGATION_REQUIRED</prop>
				<prop key="delete*">PROPAGATION_REQUIRED</prop>
				<prop key="disable*">PROPAGATION_REQUIRED</prop>
				<prop key="set*">PROPAGATION_REQUIRED</prop>
				<prop key="userHasData">PROPAGATION_REQUIRED</prop>
			</props>
		</property>
	</bean>
	
	<bean id="learningDesignServiceTarget" class="org.lamsfoundation.lams.learningdesign.service.LearningDesignService">
		<property name="messageService"><ref bean="commonMessageService"/></property>
		<property name="learningDesignDAO"><ref bean="learningDesignDAO"/></property>
		<property name="activityDAO"><ref bean="activityDAO"/></property>
		<property name="groupingDAO"><ref bean="groupingDAO"/></property>
		<property name="learningLibraryDAO"><ref bean="learningLibraryDAO"/></property>
		<property name="toolActMessageService"><ref bean="loadedMessageSourceService"/></property>
	</bean>
	
	<bean id="learningDesignService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref local="learningDesignServiceTarget"/></property>
		<property name="proxyTargetClass"><value>true</value></property> 
		<property name="transactionAttributes">
			<props>
				<prop key="validateLearningDesign">PROPAGATION_REQUIRED</prop>
				<prop key="setValid">PROPAGATION_REQUIRED</prop>
			</props>
		</property>
	</bean>
	
	<bean id="themeServiceTarget" class="org.lamsfoundation.lams.themes.service.ThemeService">
		<property name="themeDAO"><ref local="themeDAO"/></property>
		<property name="userManagementService"><ref local="userManagementService"/></property>
		<property name="messageService"><ref bean="commonMessageService"/></property>
	</bean>
	
	<bean id="themeService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name ="transactionManager"><ref bean ="transactionManager"/></property>
		<property name ="target"><ref bean="themeServiceTarget"/></property>
		<property name="proxyTargetClass"><value>true</value></property> 
		<property name="transactionAttributes">
			<props>
				<prop key="get*">PROPAGATION_REQUIRED</prop>
				<prop key="store*">PROPAGATION_REQUIRED</prop>
				<prop key="set*">PROPAGATION_REQUIRED</prop>
			</props>
		</property>
	</bean>
	
	<bean id="exportToolContentServiceTarget" class="org.lamsfoundation.lams.learningdesign.service.ExportToolContentService">
		<property name="activityDAO"><ref bean="activityDAO"/></property>
		<property name="toolDAO"><ref bean="toolDAO"/></property>
		<property name="toolImportSupportDAO"><ref bean="toolImportSupportDAO"/></property>
		<property name="toolContentDAO"><ref bean="toolContentDAO"/></property>
		<property name="systemToolDAO"><ref bean="systemToolDAO"/></property>
		<property name="baseDAO"><ref bean="baseDAO"/></property>
		<property name="licenseDAO"><ref bean="licenseDAO"/></property>
		<property name="groupingDAO"><ref bean="groupingDAO"/></property>
		<property name="transitionDAO"><ref bean="transitionDAO"/></property>
		<property name="learningDesignDAO"><ref bean="learningDesignDAO"/></property>
		<property name="learningLibraryDAO"><ref bean="learningLibraryDAO"/></property>
	</bean>
	
	<bean id="exportToolContentService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name ="transactionManager"><ref bean ="transactionManager"/></property>
		<property name ="target"><ref bean="exportToolContentServiceTarget"/></property>
		
		<!-- TransactionProxyFactoryBean by default just proxies all interfaces implemented by the target object -->
		<!-- AuthoringService is class so needs to be proxied via CGLIB -->
		<!-- Specify "proxyTargetClass" = "true" to generate a CGLIB proxy-->
		<property name="proxyTargetClass"><value>true</value></property>     
		
		<property name="transactionAttributes">
			<props>
				<prop key="save*">PROPAGATION_REQUIRED</prop>
				<prop key="remove*">PROPAGATION_REQUIRED</prop>
				<prop key="export*">PROPAGATION_REQUIRED,+java.lang.Exception</prop>
				<prop key="import*">PROPAGATION_REQUIRED,+java.lang.Exception</prop>
			</props>
		</property>
	</bean>
	
    <!--  Processes a LAMS 1.0.2 import file. Called by exportToolContentService -->
	<bean id="ld102Importer" class="org.lamsfoundation.lams.learningdesign.service.LD102Importer" singleton="false">
		<property name="learningDesignService"><ref bean="learningDesignService"/></property>
		<property name="messageService"><ref bean="commonMessageService"/></property>
		<property name="baseDAO"><ref bean="baseDAO"/></property>
		<property name="learningLibraryDAO"><ref bean="learningLibraryDAO"/></property>
		<property name="learningDesignDAO"><ref bean="learningDesignDAO"/></property>
		<property name="activityDAO"><ref bean="activityDAO"/></property>
		<property name="toolDAO"><ref bean="toolDAO"/></property>
		<property name="toolImportSupportDAO"><ref bean="toolImportSupportDAO"/></property>
		<property name="toolContentDAO"><ref bean="toolContentDAO"/></property>
		<property name="systemToolDAO"><ref bean="systemToolDAO"/></property>
	</bean>
	
	<!--  Access a message service related to a programatically loaded message file. -->
	<!--  Can be used to arbitrarily access any message file that is on the classpath -->
	<!--  as long as you know the file's name and full path.                          -->
	<bean id="loadedMessageSourceService" class="org.lamsfoundation.lams.util.LoadedMessageSourceService">
    </bean>
    	
    <!--  Each message service created by loadedMessageService is a ResourceBundleMessageSource -->
	<bean id="loadedMessageSource" class="org.springframework.context.support.ResourceBundleMessageSource" singleton="false">
	</bean>
			
	<!--  Core Notebook Service -->
	<bean id="coreNotebookServiceTarget" class="org.lamsfoundation.lams.notebook.service.CoreNotebookService">
		<property name="messageService"><ref bean="commonMessageService"/></property>
		<property name="userManagementService"><ref local="userManagementService"/></property>
		<property name="notebookEntryDAO"><ref bean="notebookEntryDAO" /></property>
	</bean>
	
	<!--  Presence Chat Service -->
	<bean id="presenceChatLoggerService" class="org.lamsfoundation.lams.presence.service.PresenceChatLoggerService">
		<property name="messageService"><ref bean="commonMessageService"/></property>
		<property name="presenceChatMessageDAO"><ref bean="presenceChatMessageDAO" /></property>
	</bean>
	
	<bean id="coreNotebookService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name ="transactionManager"><ref bean ="transactionManager"/></property>
		<property name ="target"><ref bean="coreNotebookServiceTarget"/></property>
		
		<!-- TransactionProxyFactoryBean by default just proxies all interfaces implemented by the target object -->
		<!-- AuthoringService is class so needs to be proxied via CGLIB -->
		<!-- Specify "proxyTargetClass" = "true" to generate a CGLIB proxy-->
		<property name="proxyTargetClass"><value>true</value></property>     
		
		<property name="transactionAttributes">
			<props>
				<prop key="get*">PROPAGATION_REQUIRED</prop>
				<prop key="update*">PROPAGATION_REQUIRED</prop>
				<prop key="save*">PROPAGATION_REQUIRED</prop>
				<prop key="create*">PROPAGATION_REQUIRED</prop>
			</props>
		</property>
	</bean>
	
	<!-- Event notification Service -->

	 <bean id="scheduler" class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
        <property name="applicationContextSchedulerContextKey" value="context.central"/>
    	<property name="quartzProperties">
			<props>
				<prop key="org.quartz.jobStore.class">org.springframework.scheduling.quartz.LocalDataSourceJobStore</prop>
				<prop key="org.quartz.jobStore.driverDelegateClass">org.quartz.impl.jdbcjobstore.StdJDBCDelegate</prop>
				<prop key="org.quartz.jobStore.tablePrefix">lams_qtz_</prop>
			</props>
		</property> 
		<property name="dataSource"><ref bean="dataSource"/></property>     
    </bean>


    <bean id="eventNotificationService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name ="transactionManager"><ref bean="transactionManager"/></property>
		<property name ="target">
			<bean class="org.lamsfoundation.lams.events.EventNotificationService">
				<property name="eventDAO"><ref bean="eventDAO" /></property>
				<property name="userManagementService"><ref bean="userManagementService"/></property>
				<constructor-arg>
         		  <ref bean="scheduler"/>
        		</constructor-arg>
			</bean>	
		</property>  
		<property name="transactionAttributes">
			<props>
				<prop key="createEvent">PROPAGATION_REQUIRED</prop>
				<prop key="deleteEvent">PROPAGATION_REQUIRED</prop>
				<prop key="sendMessage">PROPAGATION_REQUIRED</prop>
				<prop key="subscribe">PROPAGATION_REQUIRED</prop>
				<prop key="unsubscribe">PROPAGATION_REQUIRED</prop>
				<prop key="trigger*">PROPAGATION_REQUIRED</prop>
				<prop key="saveEvent">PROPAGATION_SUPPORTS</prop>
			</props>
		</property>
	</bean>
	
	<!--  Configuration service -->
	<bean id="configurationService" class="org.lamsfoundation.lams.util.Configuration">
		<property name="configurationDAO"><ref bean="configurationDAO" /></property>
		<property name="registrationDAO"><ref bean="registrationDAO" /></property>
	</bean>
	
	<!-- auditing service -->
	<bean id="auditService" class="org.lamsfoundation.lams.util.audit.AuditService" >
		<property name="messageService"><ref bean="commonMessageService"/></property>
    </bean>

	<!-- Learning Design related beans-->
	
	<bean id="activityDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.ActivityDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	<bean id="branchActivityEntryDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.BranchActivityEntryDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	<bean id="learningLibraryDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.LearningLibraryDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	<bean id="learningDesignDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.LearningDesignDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>	
	<bean id="transitionDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.TransitionDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>	
	<bean id="groupingDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.GroupingDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>	
	<bean id="groupDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.GroupDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	<bean id="licenseDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.LicenseDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>	
	
	<!--User management related beans -->
	
	<bean id="baseDAO" class="org.lamsfoundation.lams.dao.hibernate.BaseDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	<!--  Theme beans -->
	<bean id="themeDAO" class="org.lamsfoundation.lams.themes.dao.hibernate.CSSThemeDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<bean id="roleDAO" class="org.lamsfoundation.lams.usermanagement.dao.hibernate.RoleDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<bean id="organisationDAO" class="org.lamsfoundation.lams.usermanagement.dao.hibernate.OrganisationDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<bean id="userOrganisationDAO" class="org.lamsfoundation.lams.usermanagement.dao.hibernate.UserOrganisationDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<!--Event service related beans -->
	<bean id="eventDAO" class="org.lamsfoundation.lams.events.dao.hibernate.EventDAOHibernate">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<!-- Core Notebook related beans -->
	<bean id="notebookEntryDAO" class="org.lamsfoundation.lams.notebook.dao.hibernate.NotebookEntryDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>	
	
	<!-- Presence Chat related beans -->
	<bean id="presenceChatMessageDAO" class="org.lamsfoundation.lams.presence.dao.hibernate.PresenceChatMessageDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>	
	
	<!--  Configuration related beans -->
	<bean id="configurationDAO" class="org.lamsfoundation.lams.config.dao.hibernate.ConfigurationDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	<bean id="registrationDAO" class="org.lamsfoundation.lams.config.dao.hibernate.RegistrationDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<!--  Competence related beans -->
	<bean id="competenceDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.CompetenceDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	<bean id="competenceMappingDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.CompetenceMappingDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<!--  Pedagogical Planner related beans -->
	<bean id="pedagogicalPlannerDAO" class="org.lamsfoundation.lams.planner.dao.hibernate.PedagogicalPlannerDAOHibernate">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<!--  Gradebook related beans -->
	<bean id="gradebookDAO" class="org.lamsfoundation.lams.gradebook.dao.hibernate.GradebookDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<!--  Data flow related beans -->
	<bean id="dataFlowDAO" class="org.lamsfoundation.lams.learningdesign.dao.hibernate.DataFlowDAO">
		<property name="sessionFactory"><ref local="coreSessionFactory"/></property>
	</bean>
	
	<!--  System Session bean -->
	<bean id="SystemSession"
	    class="org.lamsfoundation.lams.web.session.SessionManager"
	    init-method="init"
	    destroy-method="destroy"
		singleton="true">
		<property name="monitorPeriod"><value>60</value></property>
	</bean>
	
	<!-- Cache Manager bean. cacheObjectName should be the same value as hibernate.treecache.objectName -->
	<bean id="cacheManager" class="org.lamsfoundation.lams.cache.CacheManager">
		<property name="cacheObjectName"><value>jboss.cache:service=TreeCache</value></property>
	</bean>
	
	<bean id="statisticsService" class="org.lamsfoundation.lams.statistics.service.StatisticsService">
   		<property name="baseDAO">
   			<ref bean="baseDAO"/>
   		</property>	
   		<property name="userService">
   			<ref local="userManagementService"/>
   		</property>
    </bean>
	
</beans>
