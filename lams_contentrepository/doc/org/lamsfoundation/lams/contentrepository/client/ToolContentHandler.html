<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_05) on Tue Nov 22 10:18:02 EST 2005 -->
<TITLE>
ToolContentHandler
</TITLE>

<META NAME="keywords" CONTENT="org.lamsfoundation.lams.contentrepository.client.ToolContentHandler class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ToolContentHandler";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ToolContentHandler.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolDownload.html" title="class in org.lamsfoundation.lams.contentrepository.client"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ToolContentHandler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.lamsfoundation.lams.contentrepository.client</FONT>
<BR>
Class ToolContentHandler</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.lamsfoundation.lams.contentrepository.client.ToolContentHandler</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>ToolContentHandler</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></DL>
</PRE>

<P>
Handles the connection to the content repository, and allows a file 
 to be stored and retrieved. 
 <p>
 It can be used by LAMS tools to do the handling the files for
 offline and online instructions. Every file that is stored needs
 to be marked as either an Offline or Online file.
 <p>
 It is a very simple client, in that
 it only handles files (and not packages) and will not keep versions 
 of files - to do a new version of a file, the old version is deleted
 and the new version added.
<p>
 To use this class:
 <UL>
 <LI>You must be using Spring. Include the Content Repository's 
 applicationContext.xml in your Spring context.
 <LI>Create a class that extends ToolContentHandler and implements
 getRepositoryWorkspaceName(), getRepositoryUser() and
 repositoryId(). These methods are required to set up the credential 
 and workspace.
 <LI>Define your Handler class as a bean in your own Spring context file.
 It <em>must</em> include a parameter repositoryService, which references a local
 value of repositoryService. The "repositoryService" is defined in the 
 Content Repository's applicationContext.xml. The name must be unique to this project.
 </UL>
 For example:
 <pre>
        &lt;bean id="blahToolContentHandler" class="your class name here"&gt;
                &lt;property name="repositoryService"&gt; &lt;ref bean="repositoryService"/&lt;/property&gt;
        &lt;/bean&gt; 
 </pre>
 
 
 You do not need to include repositoryService as a instance variable
 in your own class as it is already defined in the ToolContentHandler abstract class.
 <p>
 The methods you are likely to use are:
 <UL>
 <LI>NodeKey uploadFile(InputStream stream, String fileName, String mimeType, String fileProperty)<BR>
        Saves a file in the content repository, marking it as online or offline according to the fileProperty
 <LI>void deleteFile(Long uuid)<BR>
        Gets rid of a file you don't want any more
 <LI>IVersionedNode getFileNode(Long uuid)<BR> 
  Gets the file node from the repository. To get the file stream, do getFileNode().getFile()
 <LI>boolean isOffline(IVersionedNode node), boolean isOnline(IVersionedNode node)<BR>
  Is this an offline or offline file.
 </UL>
 For example:<BR>
 <pre>
 NodeKey offlineNodeKey = handler.uploadFile(istream, fileName, fileMimeType, ToolContentHandlerImpl.TYPE_OFFLINE);<BR>
 Long uuid = offlineNodeKey.getUuid();<BR>
 IVersionedNode node = handler.getFileNode(uuid);<BR>
 IStream fileStreamToWriteSomewhere = node.getFile());<BR>
 boolean isOffline = handler.isOffline(node);<BR>
 </pre><p>
 Please read the javadoc on each method for more information on the exceptions thrown
 and on the mandatory parameters.
<p>
 If you want to see this class used, have a look at the test code in org.lamsfoundation.lams.contentrepository.client
 in the test/java area.
 <p>
 You may be wondering why we don't make the workspaceName, user, id, etc 
 parameters in the Spring file, rather than creating a concrete class. Using
 the Spring file would be easier, but then the id (equivalent to passsword)
 is easier to hack. The id is a char[], rather than a String for 
 security. If you don't care that your tool's id is stored as a String
 then you can include it in your Spring file.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>conradb, Fiona Malikoff</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.lamsfoundation.lams.contentrepository.client.IToolContentHandler"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface org.lamsfoundation.lams.contentrepository.client.<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#FILE_TYPE_PROPERTY_NAME">FILE_TYPE_PROPERTY_NAME</A>, <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#TYPE_OFFLINE">TYPE_OFFLINE</A>, <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#TYPE_ONLINE">TYPE_ONLINE</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#ToolContentHandler()">ToolContentHandler</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#deleteFile(java.lang.Long)">deleteFile</A></B>(java.lang.Long&nbsp;uuid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete a file node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/IVersionedNode.html" title="interface in org.lamsfoundation.lams.contentrepository">IVersionedNode</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#getFileNode(java.lang.Long)">getFileNode</A></B>(java.lang.Long&nbsp;uuid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a file node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#getFileProperties(java.lang.Long)">getFileProperties</A></B>(java.lang.Long&nbsp;uuid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get just the properties of a file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;char[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#getRepositoryId()">getRepositoryId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/service/IRepositoryService.html" title="interface in org.lamsfoundation.lams.contentrepository.service">IRepositoryService</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#getRepositoryService()">getRepositoryService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#getRepositoryUser()">getRepositoryUser</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#getRepositoryWorkspaceName()">getRepositoryWorkspaceName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/ITicket.html" title="interface in org.lamsfoundation.lams.contentrepository">ITicket</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#getTicket(boolean)">getTicket</A></B>(boolean&nbsp;forceLogin)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the ticket to access the repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#isOffline(org.lamsfoundation.lams.contentrepository.IVersionedNode)">isOffline</A></B>(<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/IVersionedNode.html" title="interface in org.lamsfoundation.lams.contentrepository">IVersionedNode</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#isOnline(org.lamsfoundation.lams.contentrepository.IVersionedNode)">isOnline</A></B>(<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/IVersionedNode.html" title="interface in org.lamsfoundation.lams.contentrepository">IVersionedNode</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#setRepositoryService(org.lamsfoundation.lams.contentrepository.service.IRepositoryService)">setRepositoryService</A></B>(<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/service/IRepositoryService.html" title="interface in org.lamsfoundation.lams.contentrepository.service">IRepositoryService</A>&nbsp;repositoryService)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/NodeKey.html" title="class in org.lamsfoundation.lams.contentrepository">NodeKey</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html#uploadFile(java.io.InputStream, java.lang.String, java.lang.String, java.lang.String)">uploadFile</A></B>(java.io.InputStream&nbsp;stream,
           java.lang.String&nbsp;fileName,
           java.lang.String&nbsp;mimeType,
           java.lang.String&nbsp;fileProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Save a file in the content repository.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ToolContentHandler()"><!-- --></A><H3>
ToolContentHandler</H3>
<PRE>
public <B>ToolContentHandler</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getRepositoryWorkspaceName()"><!-- --></A><H3>
getRepositoryWorkspaceName</H3>
<PRE>
public abstract java.lang.String <B>getRepositoryWorkspaceName</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#getRepositoryWorkspaceName()">getRepositoryWorkspaceName</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the repositoryWorkspaceName.</DL>
</DD>
</DL>
<HR>

<A NAME="getRepositoryUser()"><!-- --></A><H3>
getRepositoryUser</H3>
<PRE>
public abstract java.lang.String <B>getRepositoryUser</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#getRepositoryUser()">getRepositoryUser</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the repositoryUser.</DL>
</DD>
</DL>
<HR>

<A NAME="getRepositoryId()"><!-- --></A><H3>
getRepositoryId</H3>
<PRE>
public abstract char[] <B>getRepositoryId</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#getRepositoryId()">getRepositoryId</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the repository identification string. This is the
 "password" field the credential.</DL>
</DD>
</DL>
<HR>

<A NAME="getTicket(boolean)"><!-- --></A><H3>
getTicket</H3>
<PRE>
public <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/ITicket.html" title="interface in org.lamsfoundation.lams.contentrepository">ITicket</A> <B>getTicket</B>(boolean&nbsp;forceLogin)
                  throws <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></PRE>
<DL>
<DD>Get the ticket to access the repository. If the workspace/credential
 hasn't been set up, then it will be set up automatically.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#getTicket(boolean)">getTicket</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>forceLogin</CODE> - set to true if tried to do something and got access denied. This may happen
 if the repository loses the ticket.
<DT><B>Returns:</B><DD>the repository ticket
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="uploadFile(java.io.InputStream, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
uploadFile</H3>
<PRE>
public <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/NodeKey.html" title="class in org.lamsfoundation.lams.contentrepository">NodeKey</A> <B>uploadFile</B>(java.io.InputStream&nbsp;stream,
                          java.lang.String&nbsp;fileName,
                          java.lang.String&nbsp;mimeType,
                          java.lang.String&nbsp;fileProperty)
                   throws <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A>,
                          <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/InvalidParameterException.html" title="class in org.lamsfoundation.lams.contentrepository">InvalidParameterException</A>,
                          <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></PRE>
<DL>
<DD>Save a file in the content repository.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#uploadFile(java.io.InputStream, java.lang.String, java.lang.String, java.lang.String)">uploadFile</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stream</CODE> - Input filestream. Mandatory.<DD><CODE>fileName</CODE> - Input filename. Mandatory.<DD><CODE>mimeType</CODE> - Mimetype of file. Optional.<DD><CODE>fileProperty</CODE> - is this for online or offline instructions? Should be TYPE_ONLINE or TYPE_OFFLINE. Mandatory.
<DT><B>Returns:</B><DD>key to the new content repository node
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/InvalidParameterException.html" title="class in org.lamsfoundation.lams.contentrepository">InvalidParameterException</A></CODE> - One of the mandatory parameters is missing.
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/FileException.html" title="class in org.lamsfoundation.lams.contentrepository">FileException</A></CODE> - An error occured writing the input stream to disk.
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></CODE> - Some other error occured.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteFile(java.lang.Long)"><!-- --></A><H3>
deleteFile</H3>
<PRE>
public void <B>deleteFile</B>(java.lang.Long&nbsp;uuid)
                throws <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/InvalidParameterException.html" title="class in org.lamsfoundation.lams.contentrepository">InvalidParameterException</A>,
                       <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></PRE>
<DL>
<DD>Delete a file node.  If the node does not exist, then nothing happens (ie ItemNotFoundException is NOT thrown).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#deleteFile(java.lang.Long)">deleteFile</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uuid</CODE> - id of the file node. Mandatory
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/InvalidParameterException.html" title="class in org.lamsfoundation.lams.contentrepository">InvalidParameterException</A></CODE> - One of the mandatory parameters is missing.
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></CODE> - Some other error occured.</DL>
</DD>
</DL>
<HR>

<A NAME="getFileNode(java.lang.Long)"><!-- --></A><H3>
getFileNode</H3>
<PRE>
public <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/IVersionedNode.html" title="interface in org.lamsfoundation.lams.contentrepository">IVersionedNode</A> <B>getFileNode</B>(java.lang.Long&nbsp;uuid)
                           throws <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/ItemNotFoundException.html" title="class in org.lamsfoundation.lams.contentrepository">ItemNotFoundException</A>,
                                  <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/FileException.html" title="class in org.lamsfoundation.lams.contentrepository">FileException</A>,
                                  <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></PRE>
<DL>
<DD>Get a file node.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#getFileNode(java.lang.Long)">getFileNode</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uuid</CODE> - id of the file node. Mandatory
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/FileException.html" title="class in org.lamsfoundation.lams.contentrepository">FileException</A></CODE> - An error occured writing the input stream to disk.
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/ItemNotFoundException.html" title="class in org.lamsfoundation.lams.contentrepository">ItemNotFoundException</A></CODE> - This file node does not exist, so cannot delete it.
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></CODE> - Some other error occured.</DL>
</DD>
</DL>
<HR>

<A NAME="getFileProperties(java.lang.Long)"><!-- --></A><H3>
getFileProperties</H3>
<PRE>
public java.util.Set <B>getFileProperties</B>(java.lang.Long&nbsp;uuid)
                                throws <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/ItemNotFoundException.html" title="class in org.lamsfoundation.lams.contentrepository">ItemNotFoundException</A>,
                                       <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/FileException.html" title="class in org.lamsfoundation.lams.contentrepository">FileException</A>,
                                       <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></PRE>
<DL>
<DD>Get just the properties of a file. Convenience method - equivalent of 
 calling getFileNode(uuid).getProperties(). Useful if all you want are 
 the properties and you don't want to access the file itself.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#getFileProperties(java.lang.Long)">getFileProperties</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uuid</CODE> - id of the file node. Mandatory
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/FileException.html" title="class in org.lamsfoundation.lams.contentrepository">FileException</A></CODE> - An error occured writing the input stream to disk.
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/ItemNotFoundException.html" title="class in org.lamsfoundation.lams.contentrepository">ItemNotFoundException</A></CODE> - This file node does not exist, so cannot delete it.
<DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/RepositoryCheckedException.html" title="class in org.lamsfoundation.lams.contentrepository">RepositoryCheckedException</A></CODE> - Some other error occured.</DL>
</DD>
</DL>
<HR>

<A NAME="isOffline(org.lamsfoundation.lams.contentrepository.IVersionedNode)"><!-- --></A><H3>
isOffline</H3>
<PRE>
public boolean <B>isOffline</B>(<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/IVersionedNode.html" title="interface in org.lamsfoundation.lams.contentrepository">IVersionedNode</A>&nbsp;node)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#isOffline(org.lamsfoundation.lams.contentrepository.IVersionedNode)">isOffline</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isOnline(org.lamsfoundation.lams.contentrepository.IVersionedNode)"><!-- --></A><H3>
isOnline</H3>
<PRE>
public boolean <B>isOnline</B>(<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/IVersionedNode.html" title="interface in org.lamsfoundation.lams.contentrepository">IVersionedNode</A>&nbsp;node)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#isOnline(org.lamsfoundation.lams.contentrepository.IVersionedNode)">isOnline</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRepositoryService()"><!-- --></A><H3>
getRepositoryService</H3>
<PRE>
public <A HREF="../../../../../org/lamsfoundation/lams/contentrepository/service/IRepositoryService.html" title="interface in org.lamsfoundation.lams.contentrepository.service">IRepositoryService</A> <B>getRepositoryService</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#getRepositoryService()">getRepositoryService</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the repositoryService.</DL>
</DD>
</DL>
<HR>

<A NAME="setRepositoryService(org.lamsfoundation.lams.contentrepository.service.IRepositoryService)"><!-- --></A><H3>
setRepositoryService</H3>
<PRE>
public void <B>setRepositoryService</B>(<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/service/IRepositoryService.html" title="interface in org.lamsfoundation.lams.contentrepository.service">IRepositoryService</A>&nbsp;repositoryService)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html#setRepositoryService(org.lamsfoundation.lams.contentrepository.service.IRepositoryService)">setRepositoryService</A></CODE> in interface <CODE><A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client">IToolContentHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>repositoryService</CODE> - The repositoryService to set.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ToolContentHandler.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/IToolContentHandler.html" title="interface in org.lamsfoundation.lams.contentrepository.client"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/lamsfoundation/lams/contentrepository/client/ToolDownload.html" title="class in org.lamsfoundation.lams.contentrepository.client"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/lamsfoundation/lams/contentrepository/client/ToolContentHandler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ToolContentHandler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
