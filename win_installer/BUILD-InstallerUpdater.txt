BUILD INSTRUCTIONS FOR INSTALLER/UPDATER
----------------------------------------

Notes
1. The updater.nsi is actually an updater/installer/language pack, therefore
   you must follow the steps for all three components.
2. NSIS plugin for Eclipse: http://eclipsensis.sourceforge.net (you still need 
   to install the NSIS compiler)

Steps to build installer
------------------------
1. Go through all the build.properties for all the tools and update the entries
   to comply with the new updater
2. Do a build of LAMS, an extra ant task is needed for the updater. If using an 
   alternate location for JBOSS_HOME, specify at the top of language-pack.nsi.
   You will need to follow this order of ant tasks: 
   
   rebuild-db
   assemble-ear
   deploy-ear
   deploy-ear-updater
   deploy-tools
   copyfiles

3. Start LAMS, login as sysadmin/sysadmin, and delete the users 'test', 'mmm'
   and 'lamskh01'.   
4. Check out jsMath and run the build-war ant target 
5. Run the dump-db and compile-java targets in the main build.xml file
6. Compile src/lams-start.nsi and src/lams-stop.nsi
7. Make sure you have all the latest language files in your lams workspace, you
   can do this by simply synchronising and updating with the CVS repository
8. Put the date that you want for the language pack at this line 
   (around line 35): !define VERSION "2006-20-12" (example)
   Make sure it is in the form "yyyy-mm-dd"
9. In updateLocales.sql, you must alter it to insert the required rows in the 
   database. Update updateLocales.sql, so that every language to be supported by
   the current version is in the list
   An example line is below:
   INSERT INTO locale_temp (language_iso_code, country_iso_code, description, 
     direction, combined) VALUES ('pt','BR','Português (Brasil)','LTR','pt,BR');
10. In updateLocales.sql change the date to the date of this language pack at the
   line: 
   UPDATE lams_configuration set DictionaryDateCreated("2006-12-20"); (example)   



