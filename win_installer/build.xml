<?xml version="1.0" encoding="UTF-8"?>

<project name="LAMS-Win_Installer-Build" basedir=".">
	
	<property file="../lams_build/common.properties" />
	<property name="build" value="build" />
	<property name="src" value="src" />
	<property name="database" value="database" />
	
	<target name="mk-build-dir" description="Create build dir.">
		<mkdir dir="${build}" />
	</target>
	
	<target name="dump-db" depends="mk-build-dir" description="Dump full LAMS database contents.">
	    <exec dir="" executable="C:\Program Files\MySQL\MySQL Server 5.0\bin\mysqldump.exe" 
	     output="${database}/dump.sql">
	      <arg line="-u${db.username}" />
	      <arg line="--password=${db.password}" />
	      <arg line="${db.name}" />
	    </exec>
	</target>
	
	<target name="compile-java" depends="mk-build-dir" description="Compile custom java class">
		<javac srcdir="java" 
			classpath="../lams_build/lib/hibernate/hibernate3.jar:mysql-connector-java-3.1.12-bin.jar" 
			destdir="${build}"
		/>
	</target>	
</project>
